<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>BusDK Software Design Document (SDD) | BusDK Design Document</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="BusDK Software Design Document (SDD)" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="The canonical source material for this SDD is the existing multi-page BusDK design spec." />
<meta property="og:description" content="The canonical source material for this SDD is the existing multi-page BusDK design spec." />
<link rel="canonical" href="http://localhost:4000/sdd.html" />
<meta property="og:url" content="http://localhost:4000/sdd.html" />
<meta property="og:site_name" content="BusDK Design Document" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="BusDK Software Design Document (SDD)" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"The canonical source material for this SDD is the existing multi-page BusDK design spec.","headline":"BusDK Software Design Document (SDD)","url":"http://localhost:4000/sdd.html"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=d0d9bdf2796f7f4cfd8e7b681d7cd81188df2206">
    <meta name="color-scheme" content="light dark">

<!-- Theme color for browser UI (light/dark). Keep in sync with busdk tokens. -->
<meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#0b0f14" media="(prefers-color-scheme: dark)">

  </head>
  <body class="busdk-docs-page">
    <div class="busdk-docs">
      <header class="busdk-site-header">
        <div class="busdk-site-header-inner">
          <a class="busdk-site-header-logo" href="/">BusDK Design Document</a>
        </div>
      </header>

      <div class="busdk-docs-body">
        
        <nav class="busdk-sidebar" aria-label="Documentation">
  <div class="busdk-sidebar-inner">
    <a class="busdk-sidebar-home" href="/">BusDK Design Document</a>
    <ul class="busdk-sidebar-nav">
      
      
      
      <li class="busdk-sidebar-section">
        <details class="busdk-sidebar-section-panel">
          <summary class="busdk-sidebar-section-toggle">
            <span class="busdk-sidebar-section-title">Get started</span>
            <span class="busdk-sidebar-section-chevron" aria-hidden="true">▸</span>
          </summary>
          <ul class="busdk-sidebar-links">
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/overview/">Overview</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/design-goals/">Design goals and requirements</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/implementation/development-status">Development status</a>
              
            </li>
            
          </ul>
        </details>
      </li>
      
      
      
      <li class="busdk-sidebar-section">
        <details class="busdk-sidebar-section-panel">
          <summary class="busdk-sidebar-section-toggle">
            <span class="busdk-sidebar-section-title">Workflows</span>
            <span class="busdk-sidebar-section-chevron" aria-hidden="true">▸</span>
          </summary>
          <ul class="busdk-sidebar-links">
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/workflow/accounting-workflow-overview">Accounting workflow overview</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/workflow/">Example end-to-end workflow</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/cli/">CLI tooling and workflow</a>
              
            </li>
            
          </ul>
        </details>
      </li>
      
      
      
      <li class="busdk-sidebar-section">
        <details class="busdk-sidebar-section-panel">
          <summary class="busdk-sidebar-section-toggle">
            <span class="busdk-sidebar-section-title">Modules</span>
            <span class="busdk-sidebar-section-chevron" aria-hidden="true">▸</span>
          </summary>
          <ul class="busdk-sidebar-links">
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/">Modules overview</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus">bus</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-init">bus init</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-config">bus config</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-data">bus data</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-api">bus api</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-sheets">bus sheets</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-dev">bus dev</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-agent">bus agent</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-bfl">bus bfl</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-accounts">bus accounts</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-entities">bus entities</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-period">bus period</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-preferences">bus preferences</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-attachments">bus attachments</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-invoices">bus invoices</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-journal">bus journal</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-bank">bus bank</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-reconcile">bus reconcile</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-assets">bus assets</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-loans">bus loans</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-inventory">bus inventory</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-payroll">bus payroll</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-budget">bus budget</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-reports">bus reports</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-validate">bus validate</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-vat">bus vat</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-pdf">bus pdf</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-filing">bus filing</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-filing-prh">bus filing prh</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-filing-vero">bus filing vero</a>
              
            </li>
            
          </ul>
        </details>
      </li>
      
      
      
      <li class="busdk-sidebar-section">
        <details class="busdk-sidebar-section-panel">
          <summary class="busdk-sidebar-section-toggle">
            <span class="busdk-sidebar-section-title">Software Design Documents</span>
            <span class="busdk-sidebar-section-chevron" aria-hidden="true">▸</span>
          </summary>
          <ul class="busdk-sidebar-links">
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/">SDD overview</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus">bus</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-init">bus init</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-config">bus config</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-data">bus data</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-api">bus api</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-sheets">bus sheets</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-dev">bus dev</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-agent">bus agent</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-bfl">bus bfl</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-accounts">bus accounts</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-entities">bus entities</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-period">bus period</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-preferences">bus preferences</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-attachments">bus attachments</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-invoices">bus invoices</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-journal">bus journal</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-bank">bus bank</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-reconcile">bus reconcile</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-assets">bus assets</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-loans">bus loans</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-inventory">bus inventory</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-payroll">bus payroll</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-budget">bus budget</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-reports">bus reports</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-validate">bus validate</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-vat">bus vat</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-pdf">bus pdf</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-filing">bus filing</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-filing-prh">bus filing prh</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-filing-vero">bus filing vero</a>
              
            </li>
            
          </ul>
        </details>
      </li>
      
      
      
      <li class="busdk-sidebar-section">
        <details class="busdk-sidebar-section-panel">
          <summary class="busdk-sidebar-section-toggle">
            <span class="busdk-sidebar-section-title">Design</span>
            <span class="busdk-sidebar-section-chevron" aria-hidden="true">▸</span>
          </summary>
          <ul class="busdk-sidebar-links">
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/architecture/">System architecture</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/data/">Data formats and storage</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/layout/">Data directory layout</a>
              
            </li>
            
          </ul>
        </details>
      </li>
      
      
      
      <li class="busdk-sidebar-section">
        <details class="busdk-sidebar-section-panel">
          <summary class="busdk-sidebar-section-toggle">
            <span class="busdk-sidebar-section-title">Reference</span>
            <span class="busdk-sidebar-section-chevron" aria-hidden="true">▸</span>
          </summary>
          <ul class="busdk-sidebar-links">
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/master-data/">Master data</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/integration/">Integration and future interfaces</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/extensibility/">Extensibility model</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/testing/">Testing</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/references/">References and foundations</a>
              
            </li>
            
          </ul>
        </details>
      </li>
      
      
      
      <li class="busdk-sidebar-section">
        <details class="busdk-sidebar-section-panel">
          <summary class="busdk-sidebar-section-toggle">
            <span class="busdk-sidebar-section-title">Compliance</span>
            <span class="busdk-sidebar-section-chevron" aria-hidden="true">▸</span>
          </summary>
          <ul class="busdk-sidebar-links">
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/compliance/fi-bookkeeping-and-tax-audit">Finnish bookkeeping and tax-audit</a>
              
            </li>
            
          </ul>
        </details>
      </li>
      
    </ul>
  </div>
</nav>

        

        <main class="busdk-main busdk-main--with-sidebar">
          <div class="busdk-main-inner markdown-body">
            
            <header class="busdk-page-header">
              <div class="busdk-content-inner">
                <h1>BusDK Software Design Document (SDD)</h1>
              </div>
            </header>
            

            <section class="busdk-chapter busdk-chapter--level-2"><div class="busdk-chapter-inner">
<section class="busdk-chapter busdk-chapter--level-3 busdk-chapter--title"><div class="busdk-chapter-section-inner busdk-content-inner">
<h2 id="busdk-software-design-document-sdd">BusDK Software Design Document (SDD)</h2>

</div></section><section class="busdk-chapter busdk-chapter--level-3"><div class="busdk-chapter-section-inner busdk-content-inner">
<h3 id="canonical-multi-page-design-spec-original-sources">Canonical multi-page design spec (original sources)</h3>

<p>The canonical source material for this SDD is the existing multi-page BusDK design spec. Start from the <a href="./index">design spec entrypoint</a> and follow the section indexes from there. This SDD links directly to the most relevant inner pages inline wherever it is logical for traceability.</p>

</div></section>
</div></section><section class="busdk-chapter busdk-chapter--level-2"><div class="busdk-chapter-inner">
<section class="busdk-chapter busdk-chapter--level-3 busdk-chapter--title"><div class="busdk-chapter-section-inner busdk-content-inner">
<h2 id="introduction-and-overview">Introduction and Overview</h2>

<p>BusDK (Business Development Kit), formerly known as Bus, is a modular, CLI-first toolkit for running a business, including accounting and bookkeeping. BusDK is designed for longevity, clarity, and extensibility by storing workspace datasets as transparent, human-readable text files validated by explicit schemas, and by keeping the workspace’s change history reviewable over time. This framing is defined in <a href="./overview/purpose-and-scope">Purpose and scope</a> and elaborated as design goals in the <a href="./design-goals/index">Design goals and requirements section</a>.</p>

<p>The preferred default is that the workspace lives in a Git repository and that tabular datasets are stored as UTF-8 CSV with beside-the-table schemas expressed as Frictionless Data Table Schemas (JSON). Git and CSV are delivery conventions rather than the goal; the invariant is that the workspace datasets and their change history remain reviewable and exportable. See <a href="./design-goals/git-as-source-of-truth">Git as the canonical, append-only source of truth</a>, <a href="./design-goals/plaintext-csv-longevity">Plain-text CSV for longevity</a>, and <a href="./design-goals/schema-contract">Schema-driven data contract (Frictionless Table Schema)</a>.</p>

<p>This SDD is the single-page “source of truth” view for design review and implementation traceability. The intended audience includes human reviewers validating correctness, AI agents refining documentation from human input, and AI agents implementing and maintaining the Bus codebase. Out of scope includes executing Git operations and making discretionary accounting judgments, as captured in the Non-goals section.</p>

</div></section><section class="busdk-chapter busdk-chapter--level-3"><div class="busdk-chapter-section-inner busdk-content-inner">
<h3 id="goals">Goals</h3>

<p>G-001 Deterministic, script-friendly workflows. The primary interface is a CLI toolchain whose behavior is predictable and automatable.</p>

<p>G-002 Reviewable repository data. Workspace datasets and their change history remain readable, diffable, and exportable over long retention periods.</p>

<p>G-003 Modular, loosely coupled components. Feature areas are implemented as independent modules that integrate through shared datasets rather than internal cross-module APIs.</p>

<p>G-004 Schema-driven data contracts. Schemas function as documentation, validation input, and compatibility guarantees across implementations.</p>

<p>G-005 Auditability through append-only discipline. Corrections are represented as additional records that preserve history rather than overwriting prior bookkeeping material.</p>

<p>These goals are expanded across <a href="./design-goals/cli-first">CLI-first</a>, <a href="./design-goals/unix-composability">Unix-style composability</a>, <a href="./design-goals/modularity">Modularity</a>, <a href="./design-goals/append-only-auditability">Append-only auditability</a>, and <a href="./design-goals/schema-contract">Schema contract</a>.</p>

</div></section><section class="busdk-chapter busdk-chapter--level-3"><div class="busdk-chapter-section-inner busdk-content-inner">
<h3 id="non-goals">Non-goals</h3>

<p>NG-001 BusDK does not execute Git commands or commit changes; Git operations are performed externally by the user or automation.</p>

<p>NG-002 BusDK does not make discretionary accounting judgments (for example classification, valuation, or materiality decisions) on the user’s behalf.</p>

<p>NG-003 AI assistance is an objective for workflow compatibility, not a required dependency for correctness.</p>

</div></section>
</div></section><section class="busdk-chapter busdk-chapter--level-2"><div class="busdk-chapter-inner">
<section class="busdk-chapter busdk-chapter--level-3 busdk-chapter--title"><div class="busdk-chapter-section-inner busdk-content-inner">
<h2 id="requirements">Requirements</h2>

<p>This section defines requirements with stable identifiers. Each requirement is phrased as an invariant and paired with acceptance criteria that must be testable, derived from the documented CLI, data, and workflow conventions in the source pages.</p>

</div></section><section class="busdk-chapter busdk-chapter--level-3"><div class="busdk-chapter-section-inner busdk-content-inner">
<h3 id="functional-requirements">Functional requirements</h3>

<p>FR-001 CLI-first toolchain. BusDK MUST provide a CLI-first interface where workflows are expressed as explicit commands and produce deterministic outputs suitable for interactive use and scripting. Acceptance criteria: The minimum required command surface for the end-to-end workflow is defined in <a href="./cli/minimum-command-surface">Minimum required command surface (end-to-end workflow)</a>. The CLI’s I/O and determinism conventions are specified in <a href="./cli/error-handling-dry-run-diagnostics">Error handling, dry-run, and diagnostics</a>, <a href="./cli/interactive-and-scripting-parity">Interactive use and scripting parity</a>, <a href="./cli/reporting-and-queries">Reporting and query commands</a>, and <a href="./cli/validation-and-safety-checks">Validation and safety checks</a>. Primary sources: <a href="./design-goals/cli-first">CLI-first</a>, <a href="./cli/index">CLI tooling and workflow</a>, and <a href="./cli/command-structure">Command structure and discoverability</a>.</p>

<p>FR-002 Modular command surface. BusDK MUST be organized as independent modules (typically <code class="language-plaintext highlighter-rouge">bus-*</code>) that plug into the <code class="language-plaintext highlighter-rouge">bus</code> dispatcher and operate on shared workspace datasets. Acceptance criteria: Module responsibilities and dataset ownership are documented so cross-module integration is reviewable, and cross-module behavior remains explicit through dataset contracts. When modules are implemented in Go, cross-module reuse happens by importing Go libraries rather than shelling out to other <code class="language-plaintext highlighter-rouge">bus-*</code> CLIs, so CLI composition does not become a hidden runtime dependency. Primary sources: <a href="./architecture/independent-modules">Independent modules</a>, <a href="./architecture/architectural-overview">Architectural overview</a>, <a href="./modules">Modules</a>, and <a href="./design-goals/modularity">Modularity</a>.</p>

<p>FR-003 Workspace initialization. BusDK MUST support a workspace bootstrap workflow where module-owned initialization creates baseline datasets and schemas without a monolithic initializer owning all files. Acceptance criteria: The minimal “must exist after initialization” baseline is defined in <a href="./layout/minimal-workspace-baseline">Minimal workspace baseline (after initialization)</a>. Initialization must result in a schema-valid workspace where the end-to-end workflow can run without implicit dataset creation. Primary sources: <a href="./workflow/initialize-repo">Initialize a new repository</a>, <a href="./layout/minimal-workspace-baseline">Minimal workspace baseline (after initialization)</a>, <a href="./layout/layout-principles">Data directory layout (principles)</a>, and <a href="./bus-init"><code class="language-plaintext highlighter-rouge">bus init</code></a>.</p>

<p>FR-004 Schema validation as a first-class workflow step. BusDK MUST support schema-based validation and cross-table invariant checks as a repeatable step in day-to-day and period-close workflows. Acceptance criteria: Schema validation MUST check types and referential integrity before any data mutation, and logical validation MUST enforce balanced debits and credits for transactions, valid account references, invoice totals matching line items, and VAT classification completeness when generating VAT reports. Validation failures MUST be deterministic, MUST exit non-zero, and MUST write diagnostics to standard error that cite datasets and stable identifiers. For Finland and EU compliance, validation MUST enforce audit-trail invariants (stable IDs, required voucher references, deterministic ordering fields) and MUST prevent changes that would break a closed period or previously reported data. Primary sources: <a href="./architecture/shared-validation-layer">Shared validation layer</a>, <a href="./cli/validation-and-safety-checks">Validation and safety checks</a>, and <a href="./modules/bus-validate"><code class="language-plaintext highlighter-rouge">bus validate</code></a>.</p>

<p>FR-005 Evidence is first-class repository data. BusDK MUST support registering and linking supporting evidence (receipts, invoice PDFs, exports) so that datasets can reference attachment identifiers for traceability. Acceptance criteria: Attachments MUST be registered in <code class="language-plaintext highlighter-rouge">attachments.csv</code> at the repository root with a stable <code class="language-plaintext highlighter-rouge">attachment_id</code> and immutable metadata (filename, media type, hash). Attachment files SHOULD be stored under a predictable period directory structure, and metadata MUST remain in the repository even when files are stored outside Git. Vouchers, journal entries, invoices, and bank records MUST link to attachments via <code class="language-plaintext highlighter-rouge">attachment_id</code> so the audit trail remains demonstrable. Primary sources: <a href="./bus-attachments"><code class="language-plaintext highlighter-rouge">bus attachments</code></a>, <a href="./layout/invoice-pdf-storage">Invoice PDF storage</a>, and <a href="./compliance/fi-bookkeeping-and-tax-audit">Finnish bookkeeping and tax-audit compliance</a>.</p>

<p>FR-006 Library-first module design. Each Go module MUST implement its business logic as a Go library package, and its CLI program MUST be a lightweight wrapper over that library. Acceptance criteria: Domain behavior is testable through library calls without invoking the CLI; the CLI layer contains only argument parsing, I/O wiring, and output formatting; and Go modules may call other BusDK Go libraries directly to reuse behavior or shared mechanics while keeping dataset ownership and invariants explicit. Primary sources: <a href="./implementation/module-repository-structure">Module repository structure and dependency rules</a> and <a href="./architecture/independent-modules">Independent modules</a>.</p>

</div></section><section class="busdk-chapter busdk-chapter--level-3"><div class="busdk-chapter-section-inner busdk-content-inner">
<h3 id="non-functional-requirements">Non-functional requirements</h3>

<p>NFR-001 Longevity and exportability. Repository data MUST remain exportable and interpretable without requiring a specific runtime or proprietary storage backend. Acceptance criteria: The default representation MUST be UTF-8 CSV with a header row, comma delimiters, ISO dates (YYYY-MM-DD), and predictable numeric formats for monetary values, paired with beside-the-table Frictionless Table Schemas. The canonical datasets MUST remain readable with general-purpose tools. If an alternative storage backend is used, it MUST preserve deterministic, schema-validated tables and MUST provide canonical import and export to the same tabular conventions, preserving Table Schema semantics including types, constraints, primary keys, and foreign keys so audits and reviews remain possible.</p>

<p>NFR-002 Deterministic behavior. Human-facing diagnostics and machine-facing outputs MUST be deterministic given the same repository data and configuration inputs. Acceptance criteria: Command results MUST be written to standard output and diagnostics to standard error, with any terminal styling limited to standard error when it is a terminal. Machine-readable output modes MUST document stable formats, column sets, column order, and record ordering based on stable identifiers and explicit sort keys. Diagnostics MUST cite datasets and stable identifiers and show paths relative to the workspace root so that output remains stable across machines.</p>

<p>NFR-003 Maintainability through clear boundaries. Module responsibilities and dataset ownership MUST be explicit so that modules can evolve independently. Acceptance criteria: Each dataset has a clear owning module; schema changes have a documented migration path.</p>

<p>NFR-008 Pluggable storage boundary. Modules MUST depend on the workspace store interface or shared library APIs for persistence rather than shelling out to another CLI as an internal API. Acceptance criteria: Module implementations do not require a generic CRUD CLI to run successfully, and storage access is performed through the documented interface or library APIs so that swapping the backend does not introduce hidden runtime dependencies or change module behavior.</p>

<p>NFR-004 Reliability. Workflows SHOULD fail fast with clear diagnostics when data contracts are violated. Acceptance criteria: Invalid usage MUST exit with status code 2 and a concise usage error on standard error. Failures caused by repository contents, filesystem I/O, or schema and invariant violations MUST exit non-zero and include diagnostics that identify the dataset and stable identifiers involved. Commands MUST refuse to write invalid data when validation fails.</p>

<p>NFR-005 Security and access control. Repository data MUST be protected by explicit access controls appropriate to the deployment context, and auditability MUST be preserved through append-only history. Acceptance criteria: In single-user operation, OS-level permissions MUST be the primary security boundary. In collaborative scenarios, Git permissions and workflow controls (for example branch protections, reviews, and separation of duties) MUST be used to control who can propose and approve changes. If sensitive data must be scrubbed, it MUST be handled via an explicit redaction commit that flags the redaction rather than silently excising history. Primary sources: <a href="./architecture/append-only-and-security">Append-only discipline and security model</a>, <a href="./design-goals/git-as-source-of-truth">Git as the canonical, append-only source of truth</a>.</p>

<p>NFR-006 Performance. Repository operations SHOULD remain responsive for day-to-day use even as data grows. Acceptance criteria: BusDK MUST support splitting large datasets into multiple files by time period or category so diffs remain focused and Git operations remain performant. The repository root MUST track segmented files through a stable index dataset (for example <code class="language-plaintext highlighter-rouge">journals.csv</code>) so tooling can locate period-specific files deterministically. Primary sources: <a href="./data/scaling-over-decades">Scaling over decades</a>.</p>

<p>NFR-007 Scalability. Repository data MUST remain manageable over long retention periods without losing auditability or discoverability. Acceptance criteria: Older data MUST be archivable by tagging period-close revisions and, where needed, removing old-period files from active branches while retaining them in history for retrieval. Segmentation by period MUST preserve deterministic ordering and traceability across datasets. Primary sources: <a href="./data/scaling-over-decades">Scaling over decades</a>, <a href="./data/csv-conventions">CSV conventions</a>.</p>

</div></section>
</div></section><section class="busdk-chapter busdk-chapter--level-2"><div class="busdk-chapter-inner"><section class="busdk-chapter busdk-chapter--level-3 busdk-chapter--title"><div class="busdk-chapter-section-inner busdk-content-inner">
<h2 id="system-architecture">System Architecture</h2>

<p>BusDK follows a “micro-tool” architecture. Each feature area is implemented as an independent CLI tool that reads and writes shared workspace datasets (tables plus schemas) stored as repository data, while the core business logic for Go modules lives in library packages that the CLI wraps. Modules coordinate by sharing data and by relying on an append-only revision history, and Go modules may reuse behavior by importing BusDK Go libraries rather than shelling out to other <code class="language-plaintext highlighter-rouge">bus-*</code> CLIs. The stable integration surface remains the workspace datasets and their schemas, organized in a consistent directory layout, so ownership and auditability stay explicit even when libraries are shared. This is defined in <a href="./architecture/architectural-overview">Architectural overview</a>, <a href="./architecture/independent-modules">Independent modules</a>, and <a href="./architecture/cli-as-primary-interface">CLI as the primary interface (controlled read/modify/write)</a>.</p>

<p>Data flows from the CLI commands through deterministic read-validate-modify-write operations against the repository data, with diagnostics emitted on standard error and machine-facing results emitted on standard output. The architectural goal is reviewability and exportability of the workspace datasets and their change history; Git is the preferred default, not the requirement. See <a href="./architecture/git-backed-data-store">Git-backed data repository (the data store)</a> and <a href="./design-goals/git-as-source-of-truth">Git as the canonical, append-only source of truth</a>.</p>

</div></section></div></section><section class="busdk-chapter busdk-chapter--level-2"><div class="busdk-chapter-inner"><section class="busdk-chapter busdk-chapter--level-3 busdk-chapter--title"><div class="busdk-chapter-section-inner busdk-content-inner">
<h2 id="key-decisions">Key Decisions</h2>

<p>KD-001 Preferred Git-backed change history. Git is the preferred default for recording a reviewable, append-only change history, but it is a delivery convention rather than the goal.</p>

<p>KD-002 Preferred CSV plus Frictionless Table Schema. UTF-8 CSV datasets with beside-the-table JSON schemas are the preferred default because they remain readable and exportable with general-purpose tools.</p>

<p>KD-003 Module integration through datasets. Modules integrate through shared datasets and schemas so ownership and boundaries remain explicit and reviewable, while Go modules may import other BusDK Go libraries for shared mechanics instead of invoking CLIs.
KD-004 Library-first Go modules. Go modules are structured around a library package that implements business logic, with the CLI as a thin wrapper for argument parsing and output formatting, so behavior is reusable across modules and test coverage can focus on library APIs.</p>

</div></section></div></section><section class="busdk-chapter busdk-chapter--level-2"><div class="busdk-chapter-inner">
<section class="busdk-chapter busdk-chapter--level-3 busdk-chapter--title"><div class="busdk-chapter-section-inner busdk-content-inner">
<h2 id="component-design-and-interfaces">Component Design and Interfaces</h2>

</div></section><section class="busdk-chapter busdk-chapter--level-3"><div class="busdk-chapter-section-inner busdk-content-inner">
<h3 id="bus-dispatcher">
<code class="language-plaintext highlighter-rouge">bus</code> dispatcher</h3>

<p>The <code class="language-plaintext highlighter-rouge">bus</code> dispatcher is the primary entry point for discovery and execution. It is responsible for listing available modules and routing module commands (for example <code class="language-plaintext highlighter-rouge">bus accounts</code>, <code class="language-plaintext highlighter-rouge">bus journal</code>, <code class="language-plaintext highlighter-rouge">bus vat</code>) to the corresponding module program. The intended command surface and discoverability expectations are described in <a href="./cli/command-structure">Command structure and discoverability</a> and the broader CLI conventions in <a href="./cli/index">CLI tooling and workflow</a>.</p>

<p>Interface IF-001 (dispatcher routing). The dispatcher provides module discovery and command routing by invoking the selected module program and passing through standard input, standard output, and standard error without transformation.</p>

</div></section><section class="busdk-chapter busdk-chapter--level-3"><div class="busdk-chapter-section-inner busdk-content-inner">
<h3 id="modules-bus-">Modules (<code class="language-plaintext highlighter-rouge">bus-*</code>)</h3>

<p>Each module owns one or more datasets and their schemas, provides commands to initialize and maintain those datasets, and emits deterministic diagnostics. Modules integrate through shared conventions: stable dataset names, beside-the-dataset schema files, and documented cross-dataset references (primary keys and foreign keys). In Go, each module’s business logic lives in a library package so other BusDK Go modules can import it directly when shared behavior is needed, without using CLI-to-CLI calls as an internal API. Module responsibilities and how modules fit into the end-to-end workflow are captured in <a href="./modules">Modules</a> and the workflow narrative starting from <a href="./workflow/accounting-workflow-overview">Accounting workflow overview</a>.</p>

<p>Interface IF-002 (module CLI). Each module exposes a CLI program named after its module directory and reads and writes workspace datasets and schemas using the documented repository layout and schema conventions.</p>

</div></section><section class="busdk-chapter busdk-chapter--level-3"><div class="busdk-chapter-section-inner busdk-content-inner">
<h3 id="repository-library-and-cli-layering">Repository library and CLI layering</h3>

<p>Each <code class="language-plaintext highlighter-rouge">bus-&lt;module&gt;</code> repository MUST contain a library package that implements the module’s behavior and a CLI entrypoint that is a thin wrapper over that library. The CLI is a presentation layer: it parses arguments, orchestrates I/O, and renders outputs, while the library performs validation, domain rules, and dataset updates and returns structured results to the CLI. Acceptance criteria: module tests target the library directly; the CLI program contains only argument parsing and output formatting; and all observable business behavior is available through library calls without shelling out to other BusDK tools. Modules MUST NOT invoke other <code class="language-plaintext highlighter-rouge">bus-*</code> CLIs as internal dependencies for core behavior. If a module needs shared mechanics such as workspace storage, schema parsing, or CSV I/O, it MUST import the shared mechanical library (for example <a href="./bus-data"><code class="language-plaintext highlighter-rouge">bus-data</code></a>) or implement the documented storage backend interface rather than calling another module program. The repository layout and dependency rules are defined in <a href="./implementation/module-repository-structure">Module repository structure and dependency rules</a>.</p>

</div></section><section class="busdk-chapter busdk-chapter--level-3"><div class="busdk-chapter-section-inner busdk-content-inner">
<h3 id="workspace-store-storage-backend-interface">Workspace store (storage backend) interface</h3>

<p>The workspace store interface defines the persistence boundary that modules depend on. It can be backed by the default filesystem implementation (CSV plus schemas) or by a future SQL or other backend, but the interface is mechanical and MUST not embed domain business logic. It must provide deterministic read and write of tables, deterministic record ordering rules, schema load and save, validation preconditions that refuse invalid writes, and canonical export back to the tabular text contract. It must support the append-only and audit-trail discipline required by the rest of the system by refusing destructive changes or representing corrections explicitly, while policy decisions about what is allowed remain in domain modules. See <a href="./data/storage-backends">Storage backends and workspace store interface</a>.</p>

<p>Interface IF-003 (workspace store interface). The storage backend provides deterministic table and schema persistence, schema-driven validation preconditions, and canonical import and export to the tabular text contract without implementing domain business rules.</p>

<p>A shared library implementation is allowed and recommended for Go modules to keep behavior consistent, while cross-language interoperability remains guaranteed by the table and schema contract and by required export and import support when a non-file backend is used.</p>

</div></section><section class="busdk-chapter busdk-chapter--level-3"><div class="busdk-chapter-section-inner busdk-content-inner">
<h3 id="external-git-tooling">External Git tooling</h3>

<p>Git is treated as an external mechanism for recording revisions. BusDK does not commit changes and does not invoke Git commands. Workflows describe when a user should record a revision boundary (for example at period close), but the mechanism is external. This separation is a design goal, not a workflow convenience. See <a href="./design-goals/git-as-source-of-truth">Git as the canonical, append-only source of truth</a> and the operational conventions described in <a href="./cli/automated-git-commits">Git commit conventions per operation (external Git)</a>.</p>

<p>Interface IF-004 (external version control). Version control actions are performed externally by users or automation, and BusDK’s responsibility ends at deterministic read-modify-write operations on repository data.</p>

</div></section>
</div></section><section class="busdk-chapter busdk-chapter--level-2"><div class="busdk-chapter-inner"><section class="busdk-chapter busdk-chapter--level-3 busdk-chapter--title"><div class="busdk-chapter-section-inner busdk-content-inner">
<h2 id="data-design">Data Design</h2>

<p>BusDK’s canonical data model is a set of tables (“workspace datasets”) validated against explicit Table Schema definitions. Table Schemas declare fields, types, constraints, and keys (including primary keys and foreign keys where applicable). Schemas serve as documentation and as validation input, and they are a key mechanism for keeping revisions interpretable as tables evolve over time. See <a href="./data/table-schema-contract">Frictionless Table Schema as the contract</a>, <a href="./data/schema-evolution-and-migration">Schema evolution and migration</a>, and <a href="./data/csv-conventions">CSV conventions</a>.</p>

<p>Corrections are represented as additional bookkeeping that preserves history rather than overwriting prior vouchers or postings. Append-only discipline is treated as a first-class design requirement for long-term auditability. See <a href="./data/append-only-and-soft-deletion">Append-only updates and soft deletion</a> and <a href="./design-goals/append-only-auditability">Auditability and append-only discipline</a>.</p>

</div></section></div></section><section class="busdk-chapter busdk-chapter--level-2"><div class="busdk-chapter-inner"><section class="busdk-chapter busdk-chapter--level-3 busdk-chapter--title"><div class="busdk-chapter-section-inner busdk-content-inner">
<h2 id="assumptions-and-dependencies">Assumptions and Dependencies</h2>

<p>AD-001 Local filesystem workspace. The current design assumes a local filesystem workspace and a toolchain that can read and write structured text data, but the architecture defines a workspace store interface so the persistence layer can be swapped later without changing domain module responsibilities. If a local filesystem is not available or accessible, BusDK cannot operate on repository data with the default backend and the CLI workflows described here are not applicable.</p>

<p>AD-002 Repository layout conventions. Workspace layout assumptions (what lives where in the repository) follow <a href="./layout/index">Data directory layout</a> with an explicit baseline example in <a href="./layout/minimal-example-layout">Minimal example layout</a>. If the layout deviates, modules cannot locate datasets and schemas deterministically and FR-002 and FR-003 cannot be satisfied.</p>

<p>AD-003 Preferred Git-backed repository. The preferred default assumes a Git repository workspace. Git remains external revision tooling and is not part of the storage backend interface contract. If Git is not used, an alternative mechanism MUST preserve an append-only, reviewable change history or NFR-005 is not met.</p>

<p>AD-004 Preferred CSV plus Frictionless Table Schema. The preferred default assumes CSV datasets and JSON schemas using the Frictionless Table Schema specification. If CSV and Frictionless Table Schema are not used, an alternative storage backend MUST still provide deterministic, schema-validated tables and export back to simple, tabular text formats so the workspace datasets and their change history remain reviewable and exportable, or NFR-001 and FR-004 cannot be satisfied.</p>

<p>AD-005 Compliance scope limited to Finland and the EU. The current design targets Finnish and EU compliance requirements only. If additional jurisdictions are added, validation rules, reporting outputs, and acceptance criteria MUST be extended and explicitly documented so the scope remains reviewable.</p>

<p>AD-006 Supported operating environments. BusDK supports Linux and macOS environments and assumes a Bash shell for CLI workflows and test harnesses. If a different OS or shell is used, command behavior, fixtures, and scripts may not be portable and test coverage must be expanded.</p>

</div></section></div></section><section class="busdk-chapter busdk-chapter--level-2"><div class="busdk-chapter-inner"><section class="busdk-chapter busdk-chapter--level-3 busdk-chapter--title"><div class="busdk-chapter-section-inner busdk-content-inner">
<h2 id="security-considerations">Security Considerations</h2>

<p>Historical financial data is append-only, and corrections are represented as new records rather than destructive updates. In single-user operation, OS-level access control is the primary security boundary. In collaborative scenarios, Git permissions and review workflows are expected to enforce separation of duties and change approval, keeping the audit trail tamper-evident through the commit history. When redaction is necessary, it must be handled through explicit redaction commits that flag the redaction instead of silently excising history. See <a href="./architecture/append-only-and-security">Append-only discipline and security model</a>.</p>

</div></section></div></section><section class="busdk-chapter busdk-chapter--level-2"><div class="busdk-chapter-inner"><section class="busdk-chapter busdk-chapter--level-3 busdk-chapter--title"><div class="busdk-chapter-section-inner busdk-content-inner">
<h2 id="observability-and-logging">Observability and Logging</h2>

<p>Diagnostics and logging are designed to be deterministic and script-friendly. Commands write command results to standard output and diagnostics to standard error. Optional logging should provide visibility into validation steps and planned file changes without contaminating structured outputs. See <a href="./cli/error-handling-dry-run-diagnostics">Error handling, dry-run, and diagnostics</a> and <a href="./cli/validation-and-safety-checks">Validation and safety checks</a>.</p>

</div></section></div></section><section class="busdk-chapter busdk-chapter--level-2"><div class="busdk-chapter-inner"><section class="busdk-chapter busdk-chapter--level-3 busdk-chapter--title"><div class="busdk-chapter-section-inner busdk-content-inner">
<h2 id="error-handling-and-resilience">Error Handling and Resilience</h2>

<p>BusDK commands must fail with clear diagnostics when inputs are invalid or when repository data violates schema or invariants. Invalid usage exits with status code 2 and a concise usage error on standard error, while repository, filesystem, and validation failures exit non-zero with diagnostics that cite datasets and stable identifiers. Validation failures must prevent data mutation, and diagnostics must remain deterministic and citeable. See <a href="./cli/error-handling-dry-run-diagnostics">Error handling, dry-run, and diagnostics</a> and <a href="./cli/validation-and-safety-checks">Validation and safety checks</a>.</p>

</div></section></div></section><section class="busdk-chapter busdk-chapter--level-2"><div class="busdk-chapter-inner"><section class="busdk-chapter busdk-chapter--level-3 busdk-chapter--title"><div class="busdk-chapter-section-inner busdk-content-inner">
<h2 id="testing-strategy">Testing Strategy</h2>

<p>Each module is tested using standard unit testing rules for its implementation language, with Go modules using <code class="language-plaintext highlighter-rouge">go test</code> and idiomatic Go test structure by default. Unit tests focus on deterministic behavior for parsing, validation, schema enforcement, and dataset transformations, and they must be runnable without network dependencies or external services so they remain stable in local and CI environments.</p>

<p>Every command exposed by a module is also covered by a simple end-to-end bash test that executes the command against a fixture workspace, asserts on standard output and standard error, and verifies repository data changes on disk. These end-to-end tests live alongside the module they verify, but they run in an isolated Git repository per command so each test is independent and does not share state or side effects with other tests. The test harness must initialize a fresh repository, apply only the fixtures required for the command under test, and verify exit codes and outputs deterministically. See <a href="./testing/testing-strategy">Testing strategy</a> for the canonical multi-page design spec section.</p>

<p>If a non-file backend such as SQL is implemented, it MUST provide an equivalent deterministic test mode using an ephemeral local instance and fixtures, and the same command-level assertions on standard output, standard error, exit codes, and resulting logical table contents MUST hold. Tests remain isolated and must not rely on external network services; any containerized or local service used for optional backends must be strictly local and used only when that backend is enabled.</p>

</div></section></div></section><section class="busdk-chapter busdk-chapter--level-2"><div class="busdk-chapter-inner"><section class="busdk-chapter busdk-chapter--level-3 busdk-chapter--title"><div class="busdk-chapter-section-inner busdk-content-inner">
<h2 id="deployment-and-operations">Deployment and Operations</h2>

<p>For the default filesystem backend, operations are limited to workspace management and external Git workflows. If an alternative backend is enabled, documentation MUST specify configuration (including connection settings and credentials handling), migrations or schema evolution procedures, backup and restore expectations, and concurrency or locking semantics at least at a single-user baseline.</p>

</div></section></div></section><section class="busdk-chapter busdk-chapter--level-2"><div class="busdk-chapter-inner"><section class="busdk-chapter busdk-chapter--level-3 busdk-chapter--title"><div class="busdk-chapter-section-inner busdk-content-inner">
<h2 id="migrationrollout">Migration/Rollout</h2>

<p>Schema evolution is expected and is handled through versioned schema updates and transparent migrations recorded in the repository history. Adding fields may be handled by defaulting missing historical values, while structural changes such as file splits or renames are acceptable as long as the migration is transparent and recorded. See <a href="./data/schema-evolution-and-migration">Schema evolution and migration</a> and <a href="./data/scaling-over-decades">Scaling over decades</a>.</p>

</div></section></div></section><section class="busdk-chapter busdk-chapter--level-2"><div class="busdk-chapter-inner"><section class="busdk-chapter busdk-chapter--level-3 busdk-chapter--title"><div class="busdk-chapter-section-inner busdk-content-inner">
<h2 id="risks">Risks</h2>

<p>Not Applicable. The current design pages do not enumerate specific project risks beyond the general need to preserve auditability and deterministic workflows.</p>

</div></section></div></section><section class="busdk-chapter busdk-chapter--level-2"><div class="busdk-chapter-inner"><section class="busdk-chapter busdk-chapter--level-3 busdk-chapter--title"><div class="busdk-chapter-section-inner busdk-content-inner">
<h2 id="open-questions">Open Questions</h2>

<p>None at this time.</p>

</div></section></div></section><section class="busdk-chapter busdk-chapter--level-2"><div class="busdk-chapter-inner"><section class="busdk-chapter busdk-chapter--level-3 busdk-chapter--title"><div class="busdk-chapter-section-inner busdk-content-inner">
<h2 id="glossary-and-terminology">Glossary and Terminology</h2>

<p>Workspace: the repository contents that hold the authoritative datasets, schemas, and supporting evidence for a bookkeeping scope (typically an accounting year).</p>

<p>Repository data: the workspace datasets, schemas, and attachments stored in the repository.</p>

<p>Workspace datasets: the canonical tables (typically CSV) plus their schemas that serve as the primary system of record.</p>

<p>Table schema: the beside-the-table contract (Frictionless Table Schema) declaring fields, types, constraints, and keys.</p>

<p>Module: an independent BusDK component (often <code class="language-plaintext highlighter-rouge">bus-*</code>) that owns specific datasets and provides commands over them.</p>

<p>Change history (revision history): the reviewable history of changes to repository data, typically recorded through external version control tooling.</p>

<hr>

<!-- busdk-docs-nav start -->
</div></section></div></section><div class="busdk-prev-next-bar"><div class="busdk-content-inner"><p class="busdk-prev-next">
  <span class="busdk-prev-next-item busdk-prev">← <a href="./sdd/index">SDD index</a></span>
  <span class="busdk-prev-next-item busdk-index"><a href="./sdd/index">SDD index</a></span>
  <span class="busdk-prev-next-item busdk-next"><a href="./overview/index">BusDK Design Spec: Overview</a> →</span>
</p></div></div>
<!-- busdk-docs-nav end -->

<div class="busdk-meta-block busdk-content-inner"><div class="busdk-meta-section">
<h3 id="document-control">Document control</h3>

<p>Title: BusDK Software Design Document (SDD)<br>
Project: BusDK<br>
Document ID: <code class="language-plaintext highlighter-rouge">BUSDK-SDD</code><br>
Version: 2026-02-06<br>
Status: Draft<br>
Last updated: 2026-02-06<br>
Owner: BusDK development team</p>
</div></div>
          </div>
        </main>
      </div>

      
      <footer class="busdk-footer" role="contentinfo">
        <div class="busdk-footer-inner">
          <span class="busdk-footer-edit">This site is open source. <a href="https://github.com/busdk/docs/edit/gh-pages/sdd.md">Improve this page</a>.</span>
          <span class="busdk-footer-copyright">&copy; 2026 <a href="https://hg.fi">Heusala Group Ltd</a></span>
        </div>
      </footer>
      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
  </body>
</html>
