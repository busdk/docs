<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Add a sales invoice (interactive workflow) | BusDK Design Document</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="Add a sales invoice (interactive workflow)" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="When Alice needs to bill a client, she adds a sales invoice as repository data and then generates a PDF as a derived artifact linked back to the invoice…" />
<meta property="og:description" content="When Alice needs to bill a client, she adds a sales invoice as repository data and then generates a PDF as a derived artifact linked back to the invoice…" />
<link rel="canonical" href="http://localhost:4000/workflow/create-sales-invoice.html" />
<meta property="og:url" content="http://localhost:4000/workflow/create-sales-invoice.html" />
<meta property="og:site_name" content="BusDK Design Document" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Add a sales invoice (interactive workflow)" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"When Alice needs to bill a client, she adds a sales invoice as repository data and then generates a PDF as a derived artifact linked back to the invoice…","headline":"Add a sales invoice (interactive workflow)","url":"http://localhost:4000/workflow/create-sales-invoice.html"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=d739a5c055683d9701ead80f9ac87dbed78e5d75">
    <meta name="color-scheme" content="light dark">

<!-- Theme color for browser UI (light/dark). Keep in sync with busdk tokens. -->
<meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#0b0f14" media="(prefers-color-scheme: dark)">

  </head>
  <body class="busdk-docs-page">
    <div class="busdk-docs">
      <header class="busdk-site-header">
        <div class="busdk-site-header-inner">
          <a class="busdk-site-header-logo" href="/">BusDK Design Document</a>
        </div>
      </header>

      <div class="busdk-docs-body">
        
        <nav class="busdk-sidebar" aria-label="Documentation">
  <div class="busdk-sidebar-inner">
    <a class="busdk-sidebar-home" href="/">BusDK Design Document</a>
    <ul class="busdk-sidebar-nav">
      
      <li class="busdk-sidebar-section">
        <span class="busdk-sidebar-section-title">Get started</span>
        <ul class="busdk-sidebar-links">
          
          
          
          
          
          <li>
            <a class="busdk-sidebar-link" href="/overview/">Overview</a>
          </li>
          
          
          
          
          
          <li>
            <a class="busdk-sidebar-link" href="/design-goals/">Design goals and requirements</a>
          </li>
          
          
          
          
          
          <li>
            <a class="busdk-sidebar-link" href="/implementation/development-status">Development status</a>
          </li>
          
        </ul>
      </li>
      
      <li class="busdk-sidebar-section">
        <span class="busdk-sidebar-section-title">Design</span>
        <ul class="busdk-sidebar-links">
          
          
          
          
          
          <li>
            <a class="busdk-sidebar-link" href="/sdd/">Software Design Documents (SDD)</a>
          </li>
          
          
          
          
          
          <li>
            <a class="busdk-sidebar-link" href="/architecture/">System architecture</a>
          </li>
          
          
          
          
          
          <li>
            <a class="busdk-sidebar-link" href="/data/">Data formats and storage</a>
          </li>
          
          
          
          
          
          <li>
            <a class="busdk-sidebar-link" href="/layout/">Data directory layout</a>
          </li>
          
        </ul>
      </li>
      
      <li class="busdk-sidebar-section">
        <span class="busdk-sidebar-section-title">Workflows</span>
        <ul class="busdk-sidebar-links">
          
          
          
          
          
          <li>
            <a class="busdk-sidebar-link" href="/workflow/accounting-workflow-overview">Accounting workflow overview</a>
          </li>
          
          
          
          
          
          <li>
            <a class="busdk-sidebar-link busdk-sidebar-link--current" href="/workflow/">Example end-to-end workflow</a>
          </li>
          
          
          
          
          
          <li>
            <a class="busdk-sidebar-link" href="/cli/">CLI tooling and workflow</a>
          </li>
          
        </ul>
      </li>
      
      <li class="busdk-sidebar-section">
        <span class="busdk-sidebar-section-title">Reference</span>
        <ul class="busdk-sidebar-links">
          
          
          
          
          
          <li>
            <a class="busdk-sidebar-link" href="/master-data/">Master data (business objects)</a>
          </li>
          
          
          
          
          
          <li>
            <a class="busdk-sidebar-link" href="/modules/">Modules</a>
          </li>
          
          
          
          
          
          <li>
            <a class="busdk-sidebar-link" href="/integration/">Integration and future interfaces</a>
          </li>
          
          
          
          
          
          <li>
            <a class="busdk-sidebar-link" href="/extensibility/">Extensibility model</a>
          </li>
          
          
          
          
          
          <li>
            <a class="busdk-sidebar-link" href="/testing/">Testing</a>
          </li>
          
          
          
          
          
          <li>
            <a class="busdk-sidebar-link" href="/references/">References and foundations</a>
          </li>
          
        </ul>
      </li>
      
      <li class="busdk-sidebar-section">
        <span class="busdk-sidebar-section-title">Compliance</span>
        <ul class="busdk-sidebar-links">
          
          
          
          
          
          <li>
            <a class="busdk-sidebar-link" href="/compliance/fi-bookkeeping-and-tax-audit">Finnish bookkeeping and tax-audit</a>
          </li>
          
        </ul>
      </li>
      
    </ul>
  </div>
</nav>

        

        <main class="busdk-main busdk-main--with-sidebar">
          <div class="busdk-main-inner markdown-body">
            
            <header class="busdk-page-header">
              <div class="busdk-content-inner">
                <h1><a href="http://localhost:4000/">BusDK Design Document</a></h1>
              </div>
            </header>
            

            <section class="busdk-chapter busdk-chapter--level-2"><div class="busdk-chapter-inner"><section class="busdk-chapter busdk-chapter--level-3 busdk-chapter--title"><div class="busdk-chapter-section-inner busdk-content-inner">
<h2 id="add-a-sales-invoice-interactive-workflow">Add a sales invoice (interactive workflow)</h2>

<p>When Alice needs to bill a client, she adds a sales invoice as repository data and then generates a PDF as a derived artifact linked back to the invoice records. The important invariant is that invoice totals, VAT, and references are validated at write time so later reporting and postings can treat invoices as trustworthy inputs.</p>

<ol>
  <li>Alice confirms she has the account references she will use for invoice line mapping:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd </span>2026-bookkeeping
bus accounts list
</code></pre></div></div>

<p>If she maintains counterparties as reference data, she also checks the customer exists:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bus entities list
</code></pre></div></div>

<ol>
  <li>Alice adds the invoice as explicit invoice and invoice-line records using a non-interactive command surface:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bus invoices add <span class="se">\</span>
  <span class="nt">--type</span> sales <span class="se">\</span>
  <span class="nt">--invoice-id</span> 1001 <span class="se">\</span>
  <span class="nt">--invoice-date</span> 2026-01-15 <span class="se">\</span>
  <span class="nt">--due-date</span> 2026-02-14 <span class="se">\</span>
  <span class="nt">--customer</span> <span class="s2">"Acme Corp"</span>

bus invoices 1001 add <span class="se">\</span>
  <span class="nt">--desc</span> <span class="s2">"Consulting, 10h @ €100/h"</span> <span class="se">\</span>
  <span class="nt">--quantity</span> 10 <span class="nt">--unit-price</span> 100 <span class="se">\</span>
  <span class="nt">--revenue-account</span> <span class="s2">"Consulting Revenue"</span> <span class="se">\</span>
  <span class="nt">--vat-rate</span> 25.5

bus invoices 1001 validate
</code></pre></div></div>

<p>This is intentionally low-level: the module must have a command surface that allows scripts and UIs to write the same canonical invoice rows without relying on interactive prompting. Interactive prompting can still exist as a convenience mode, but it is not the definition of the workflow’s invariants.</p>

<p>On write, the module rejects missing references (unknown customer when entities are required, unknown revenue account, unknown VAT class) and rejects internally inconsistent totals rather than writing partial data.</p>

<ol>
  <li>Alice verifies the invoice is present and consistent by listing invoices:</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bus invoices list
</code></pre></div></div>

<p>Generating the PDF representation and registering it as evidence is a separate workflow step, because it is derived output that must remain linked to the invoice records. That step is covered in the next page.</p>

<ol>
  <li>Alice records the result as a new revision using her version control tooling.</li>
</ol>

<hr>

<!-- busdk-docs-nav start -->
</div></section></div></section><div class="busdk-prev-next-bar"><div class="busdk-content-inner"><p class="busdk-prev-next">
  <span class="busdk-prev-next-item busdk-prev">← <a href="./configure-chart-of-accounts">Configure the chart of accounts</a></span>
  <span class="busdk-prev-next-item busdk-index"><a href="../index">BusDK Design Document</a></span>
  <span class="busdk-prev-next-item busdk-next"><a href="./evolution-over-time">Evolution over time (extending the model)</a> →</span>
</p></div></div>
<!-- busdk-docs-nav end -->

          </div>
        </main>
      </div>

      
      <footer class="busdk-footer" role="contentinfo">
        <div class="busdk-footer-inner">
          <span class="busdk-footer-edit">This site is open source. <a href="https://github.com/busdk/docs/edit/gh-pages/workflow/create-sales-invoice.md">Improve this page</a>.</span>
          <span class="busdk-footer-copyright">&copy; 2026 <a href="https://hg.fi">Heusala Group Ltd</a></span>
        </div>
      </footer>
      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
  </body>
</html>
