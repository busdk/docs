<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>bus-bank — import and list bank transactions | BusDK Design Document</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="bus-bank — import and list bank transactions" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="bus bank normalizes bank statement data into schema-validated datasets and provides listing output used for reconciliation and posting workflows.." />
<meta property="og:description" content="bus bank normalizes bank statement data into schema-validated datasets and provides listing output used for reconciliation and posting workflows.." />
<link rel="canonical" href="http://localhost:4000/modules/bus-bank.html" />
<meta property="og:url" content="http://localhost:4000/modules/bus-bank.html" />
<meta property="og:site_name" content="BusDK Design Document" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="bus-bank — import and list bank transactions" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"bus bank normalizes bank statement data into schema-validated datasets and provides listing output used for reconciliation and posting workflows..","headline":"bus-bank — import and list bank transactions","url":"http://localhost:4000/modules/bus-bank.html"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=d739a5c055683d9701ead80f9ac87dbed78e5d75">
    <meta name="color-scheme" content="light dark">

<!-- Theme color for browser UI (light/dark). Keep in sync with busdk tokens. -->
<meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#0b0f14" media="(prefers-color-scheme: dark)">

  </head>
  <body class="busdk-docs-page">
    <div class="busdk-docs">
      <header class="busdk-site-header">
        <div class="busdk-site-header-inner">
          <a class="busdk-site-header-logo" href="/">BusDK Design Document</a>
        </div>
      </header>

      <div class="busdk-docs-body">
        
        <nav class="busdk-sidebar" aria-label="Documentation">
  <div class="busdk-sidebar-inner">
    <a class="busdk-sidebar-home" href="/">BusDK Design Document</a>
    <ul class="busdk-sidebar-nav">
      
      <li class="busdk-sidebar-section">
        <span class="busdk-sidebar-section-title">Get started</span>
        <ul class="busdk-sidebar-links">
          
          
          
          
          
          <li>
            <a class="busdk-sidebar-link" href="/overview/">Overview</a>
          </li>
          
          
          
          
          
          <li>
            <a class="busdk-sidebar-link" href="/design-goals/">Design goals and requirements</a>
          </li>
          
          
          
          
          
          <li>
            <a class="busdk-sidebar-link" href="/implementation/development-status">Development status</a>
          </li>
          
        </ul>
      </li>
      
      <li class="busdk-sidebar-section">
        <span class="busdk-sidebar-section-title">Design</span>
        <ul class="busdk-sidebar-links">
          
          
          
          
          
          <li>
            <a class="busdk-sidebar-link" href="/sdd/">Software Design Documents (SDD)</a>
          </li>
          
          
          
          
          
          <li>
            <a class="busdk-sidebar-link" href="/architecture/">System architecture</a>
          </li>
          
          
          
          
          
          <li>
            <a class="busdk-sidebar-link" href="/data/">Data formats and storage</a>
          </li>
          
          
          
          
          
          <li>
            <a class="busdk-sidebar-link" href="/layout/">Data directory layout</a>
          </li>
          
        </ul>
      </li>
      
      <li class="busdk-sidebar-section">
        <span class="busdk-sidebar-section-title">Workflows</span>
        <ul class="busdk-sidebar-links">
          
          
          
          
          
          <li>
            <a class="busdk-sidebar-link" href="/workflow/accounting-workflow-overview">Accounting workflow overview</a>
          </li>
          
          
          
          
          
          <li>
            <a class="busdk-sidebar-link" href="/workflow/">Example end-to-end workflow</a>
          </li>
          
          
          
          
          
          <li>
            <a class="busdk-sidebar-link" href="/cli/">CLI tooling and workflow</a>
          </li>
          
        </ul>
      </li>
      
      <li class="busdk-sidebar-section">
        <span class="busdk-sidebar-section-title">Reference</span>
        <ul class="busdk-sidebar-links">
          
          
          
          
          
          <li>
            <a class="busdk-sidebar-link" href="/master-data/">Master data (business objects)</a>
          </li>
          
          
          
          
          
          <li>
            <a class="busdk-sidebar-link busdk-sidebar-link--current" href="/modules/">Modules</a>
          </li>
          
          
          
          
          
          <li>
            <a class="busdk-sidebar-link" href="/integration/">Integration and future interfaces</a>
          </li>
          
          
          
          
          
          <li>
            <a class="busdk-sidebar-link" href="/extensibility/">Extensibility model</a>
          </li>
          
          
          
          
          
          <li>
            <a class="busdk-sidebar-link" href="/testing/">Testing</a>
          </li>
          
          
          
          
          
          <li>
            <a class="busdk-sidebar-link" href="/references/">References and foundations</a>
          </li>
          
        </ul>
      </li>
      
      <li class="busdk-sidebar-section">
        <span class="busdk-sidebar-section-title">Compliance</span>
        <ul class="busdk-sidebar-links">
          
          
          
          
          
          <li>
            <a class="busdk-sidebar-link" href="/compliance/fi-bookkeeping-and-tax-audit">Finnish bookkeeping and tax-audit</a>
          </li>
          
        </ul>
      </li>
      
    </ul>
  </div>
</nav>

        

        <main class="busdk-main busdk-main--with-sidebar">
          <div class="busdk-main-inner markdown-body">
            
            <header class="busdk-page-header">
              <div class="busdk-content-inner">
                <h1><a href="http://localhost:4000/">BusDK Design Document</a></h1>
              </div>
            </header>
            

            <section class="busdk-chapter busdk-chapter--level-2"><div class="busdk-chapter-inner">
<section class="busdk-chapter busdk-chapter--level-3 busdk-chapter--title"><div class="busdk-chapter-section-inner busdk-content-inner">
<h2 id="bus-bank--import-and-list-bank-transactions">
<code class="language-plaintext highlighter-rouge">bus-bank</code> — import and list bank transactions</h2>

</div></section><section class="busdk-chapter busdk-chapter--level-3"><div class="busdk-chapter-section-inner busdk-content-inner">
<h3 id="synopsis">Synopsis</h3>

<p><code class="language-plaintext highlighter-rouge">bus bank init [-C &lt;dir&gt;] [global flags]</code><br>
<code class="language-plaintext highlighter-rouge">bus bank import --file &lt;path&gt; [-C &lt;dir&gt;] [global flags]</code><br>
<code class="language-plaintext highlighter-rouge">bus bank list [--month &lt;YYYY-M&gt;] [--from &lt;date&gt;] [--to &lt;date&gt;] [--counterparty &lt;id&gt;] [--invoice-ref &lt;ref&gt;] [-C &lt;dir&gt;] [-o &lt;file&gt;] [-f &lt;format&gt;] [global flags]</code></p>

</div></section><section class="busdk-chapter busdk-chapter--level-3"><div class="busdk-chapter-section-inner busdk-content-inner">
<h3 id="description">Description</h3>

<p>Command names follow <a href="../cli/command-naming">CLI command naming</a>. <code class="language-plaintext highlighter-rouge">bus bank</code> normalizes bank statement data into schema-validated datasets and provides listing output used for reconciliation and posting workflows.</p>

</div></section><section class="busdk-chapter busdk-chapter--level-3"><div class="busdk-chapter-section-inner busdk-content-inner">
<h3 id="commands">Commands</h3>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">init</code> creates the baseline bank datasets and schemas. If they already exist in full, <code class="language-plaintext highlighter-rouge">init</code> prints a warning to stderr and exits 0 without changing anything. If they exist only partially, <code class="language-plaintext highlighter-rouge">init</code> fails with an error and does not modify any file.</li>
  <li>
<code class="language-plaintext highlighter-rouge">import</code> ingests a bank statement file into normalized datasets.</li>
  <li>
<code class="language-plaintext highlighter-rouge">list</code> prints bank transactions with deterministic filtering.</li>
</ul>

</div></section><section class="busdk-chapter busdk-chapter--level-3"><div class="busdk-chapter-section-inner busdk-content-inner">
<h3 id="options">Options</h3>

<p><code class="language-plaintext highlighter-rouge">import</code> accepts <code class="language-plaintext highlighter-rouge">--file &lt;path&gt;</code>. <code class="language-plaintext highlighter-rouge">list</code> supports <code class="language-plaintext highlighter-rouge">--month</code>, <code class="language-plaintext highlighter-rouge">--from</code>, <code class="language-plaintext highlighter-rouge">--to</code>, <code class="language-plaintext highlighter-rouge">--counterparty</code>, and <code class="language-plaintext highlighter-rouge">--invoice-ref</code>. Global flags are defined in <a href="../cli/global-flags">Standard global flags</a>. For command-specific help, run <code class="language-plaintext highlighter-rouge">bus bank --help</code>.</p>

</div></section><section class="busdk-chapter busdk-chapter--level-3"><div class="busdk-chapter-section-inner busdk-content-inner">
<h3 id="files">Files</h3>

<p><code class="language-plaintext highlighter-rouge">bank-imports.csv</code> and <code class="language-plaintext highlighter-rouge">bank-transactions.csv</code> at the repository root with beside-the-table schemas. Master data for this module is stored in the workspace root only; the module does not use subdirectories (for example, no <code class="language-plaintext highlighter-rouge">bank/</code> folder).</p>

</div></section><section class="busdk-chapter busdk-chapter--level-3"><div class="busdk-chapter-section-inner busdk-content-inner">
<h3 id="exit-status">Exit status</h3>

<p><code class="language-plaintext highlighter-rouge">0</code> on success. Non-zero on errors, including invalid filters or schema violations.</p>

</div></section><section class="busdk-chapter busdk-chapter--level-3"><div class="busdk-chapter-section-inner busdk-content-inner">
<h3 id="development-state">Development state</h3>

<p><strong>Value:</strong> Initialize bank transaction datasets and import normalized statement data so <a href="./bus-reconcile">bus-reconcile</a> and the <a href="../workflow/accounting-workflow-overview">accounting workflow</a> can match bank activity to invoices and journal entries.</p>

<p><strong>Completeness:</strong> 60% (Stable for one use case) — init and import, list are verified by e2e; idempotent init and list output shape are test-backed.</p>

<p><strong>Current:</strong> E2e script <code class="language-plaintext highlighter-rouge">tests/e2e_bus_bank.sh</code> proves help, version, invalid quiet+verbose and color and format, init creating bank-imports and bank-transactions CSV and schema at workspace root, idempotent init warning, import –file appending from raw CSV with schema, and list with deterministic TSV. Unit tests cover app run, import, schema, validate, and output (<code class="language-plaintext highlighter-rouge">internal/app/run_test.go</code>, <code class="language-plaintext highlighter-rouge">internal/bank/</code>).</p>

<p><strong>Planned next:</strong> Schema validation before append; counterparty_id and filter; link imports to attachments; –dry-run for init.</p>

<p><strong>Blockers:</strong> None known.</p>

<p><strong>Depends on:</strong> None.</p>

<p><strong>Used by:</strong> <a href="./bus-reconcile">bus-reconcile</a> uses bank datasets for match and allocate.</p>

<p>See <a href="../implementation/development-status">Development status</a>.</p>

<hr>

<!-- busdk-docs-nav start -->
</div></section>
</div></section><div class="busdk-prev-next-bar"><div class="busdk-content-inner"><p class="busdk-prev-next">
  <span class="busdk-prev-next-item busdk-prev">← <a href="./bus-journal">bus-journal</a></span>
  <span class="busdk-prev-next-item busdk-index"><a href="./index">Module CLI reference</a></span>
  <span class="busdk-prev-next-item busdk-next"><a href="./bus-reconcile">bus-reconcile</a> →</span>
</p></div></div>
<!-- busdk-docs-nav end -->

<div class="busdk-meta-block busdk-content-inner"><div class="busdk-meta-section">
<h3 id="sources">Sources</h3>

<ul>
  <li><a href="../master-data/bank-accounts/index">Owns master data: Bank accounts</a></li>
  <li><a href="../master-data/bank-transactions/index">Owns master data: Bank transactions</a></li>
  <li><a href="../master-data/parties/index">Master data: Parties (customers and suppliers)</a></li>
  <li><a href="../master-data/chart-of-accounts/index">Master data: Chart of accounts</a></li>
  <li><a href="../sdd/bus-bank">Module SDD: bus-bank</a></li>
  <li><a href="../workflow/import-bank-transactions-and-apply-payment">Workflow context: Import bank transactions and apply payment</a></li>
</ul>

</div></div>
          </div>
        </main>
      </div>

      
      <footer class="busdk-footer" role="contentinfo">
        <div class="busdk-footer-inner">
          <span class="busdk-footer-edit">This site is open source. <a href="https://github.com/busdk/docs/edit/gh-pages/modules/bus-bank.md">Improve this page</a>.</span>
          <span class="busdk-footer-copyright">&copy; 2026 <a href="https://hg.fi">Heusala Group Ltd</a></span>
        </div>
      </footer>
      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
  </body>
</html>
