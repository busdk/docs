<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>bus agent — diagnostics and development helper for the agent runner | BusDK Design Document</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="bus agent — diagnostics and development helper for the agent runner" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="CLI reference for bus agent: detect enabled runtimes, render prompt templates, run an agent with a prompt, format NDJSON output; for diagnostics and development only." />
<meta property="og:description" content="CLI reference for bus agent: detect enabled runtimes, render prompt templates, run an agent with a prompt, format NDJSON output; for diagnostics and development only." />
<link rel="canonical" href="http://localhost:4000/modules/bus-agent.html" />
<meta property="og:url" content="http://localhost:4000/modules/bus-agent.html" />
<meta property="og:site_name" content="BusDK Design Document" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="bus agent — diagnostics and development helper for the agent runner" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"CLI reference for bus agent: detect enabled runtimes, render prompt templates, run an agent with a prompt, format NDJSON output; for diagnostics and development only.","headline":"bus agent — diagnostics and development helper for the agent runner","url":"http://localhost:4000/modules/bus-agent.html"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/assets/css/style.css?v=ca3245ff7b028fba394d1017a65123d2ee31c49d">
    <meta name="color-scheme" content="light dark">

<!-- Theme color for browser UI (light/dark). Keep in sync with busdk tokens. -->
<meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#0b0f14" media="(prefers-color-scheme: dark)">

  </head>
  <body class="busdk-docs-page">
    <div class="busdk-docs">
      <header class="busdk-site-header">
        <div class="busdk-site-header-inner">
          <a class="busdk-site-header-logo" href="/">BusDK Design Document</a>
        </div>
      </header>

      <div class="busdk-docs-body">
        
        <nav class="busdk-sidebar" aria-label="Documentation">
  <div class="busdk-sidebar-inner">
    <a class="busdk-sidebar-home" href="/">BusDK Design Document</a>
    <ul class="busdk-sidebar-nav">
      
      
      
      <li class="busdk-sidebar-section">
        <details class="busdk-sidebar-section-panel">
          <summary class="busdk-sidebar-section-toggle">
            <span class="busdk-sidebar-section-title">Get started</span>
            <span class="busdk-sidebar-section-chevron" aria-hidden="true">▸</span>
          </summary>
          <ul class="busdk-sidebar-links">
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/overview/">Overview</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/design-goals/">Design goals and requirements</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/implementation/development-status">Development status</a>
              
            </li>
            
          </ul>
        </details>
      </li>
      
      
      
      <li class="busdk-sidebar-section">
        <details class="busdk-sidebar-section-panel">
          <summary class="busdk-sidebar-section-toggle">
            <span class="busdk-sidebar-section-title">Workflows</span>
            <span class="busdk-sidebar-section-chevron" aria-hidden="true">▸</span>
          </summary>
          <ul class="busdk-sidebar-links">
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/workflow/accounting-workflow-overview">Accounting workflow overview</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/workflow/">Example end-to-end workflow</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/workflow/finnish-payroll-monthly-pay-run">Finnish payroll (monthly pay run)</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/cli/">CLI tooling and workflow</a>
              
            </li>
            
          </ul>
        </details>
      </li>
      
      
      
      <li class="busdk-sidebar-section">
        <details class="busdk-sidebar-section-panel" open>
          <summary class="busdk-sidebar-section-toggle">
            <span class="busdk-sidebar-section-title">Modules</span>
            <span class="busdk-sidebar-section-chevron" aria-hidden="true">▸</span>
          </summary>
          <ul class="busdk-sidebar-links">
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link busdk-sidebar-link--current" href="/modules/">Modules overview</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link busdk-sidebar-link--current" href="/modules/bus">bus</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-init">bus init</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-config">bus config</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-data">bus data</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-api">bus api</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-sheets">bus sheets</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-dev">bus dev</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link busdk-sidebar-link--current" href="/modules/bus-agent">bus agent</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-bfl">bus bfl</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-accounts">bus accounts</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-entities">bus entities</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-period">bus period</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-preferences">bus preferences</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-attachments">bus attachments</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-invoices">bus invoices</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-journal">bus journal</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-bank">bus bank</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-reconcile">bus reconcile</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-assets">bus assets</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-loans">bus loans</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-inventory">bus inventory</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-payroll">bus payroll</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-budget">bus budget</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-reports">bus reports</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-validate">bus validate</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-vat">bus vat</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-pdf">bus pdf</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-filing">bus filing</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-filing-prh">bus filing prh</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/modules/bus-filing-vero">bus filing vero</a>
              
            </li>
            
          </ul>
        </details>
      </li>
      
      
      
      <li class="busdk-sidebar-section">
        <details class="busdk-sidebar-section-panel">
          <summary class="busdk-sidebar-section-toggle">
            <span class="busdk-sidebar-section-title">Software Design Documents</span>
            <span class="busdk-sidebar-section-chevron" aria-hidden="true">▸</span>
          </summary>
          <ul class="busdk-sidebar-links">
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/">SDD overview</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus">bus</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-init">bus init</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-config">bus config</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-data">bus data</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-api">bus api</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-sheets">bus sheets</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-dev">bus dev</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-agent">bus agent</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-bfl">bus bfl</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-accounts">bus accounts</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-entities">bus entities</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-period">bus period</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-preferences">bus preferences</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-attachments">bus attachments</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-invoices">bus invoices</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-journal">bus journal</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-bank">bus bank</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-reconcile">bus reconcile</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-assets">bus assets</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-loans">bus loans</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-inventory">bus inventory</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-payroll">bus payroll</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-budget">bus budget</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-reports">bus reports</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-validate">bus validate</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-vat">bus vat</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-pdf">bus pdf</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-filing">bus filing</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-filing-prh">bus filing prh</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/sdd/bus-filing-vero">bus filing vero</a>
              
            </li>
            
          </ul>
        </details>
      </li>
      
      
      
      <li class="busdk-sidebar-section">
        <details class="busdk-sidebar-section-panel">
          <summary class="busdk-sidebar-section-toggle">
            <span class="busdk-sidebar-section-title">Design</span>
            <span class="busdk-sidebar-section-chevron" aria-hidden="true">▸</span>
          </summary>
          <ul class="busdk-sidebar-links">
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/architecture/">System architecture</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/data/">Data formats and storage</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/layout/">Data directory layout</a>
              
            </li>
            
          </ul>
        </details>
      </li>
      
      
      
      <li class="busdk-sidebar-section">
        <details class="busdk-sidebar-section-panel">
          <summary class="busdk-sidebar-section-toggle">
            <span class="busdk-sidebar-section-title">Reference</span>
            <span class="busdk-sidebar-section-chevron" aria-hidden="true">▸</span>
          </summary>
          <ul class="busdk-sidebar-links">
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/master-data/">Master data</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/integration/">Integration and future interfaces</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/extensibility/">Extensibility model</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/testing/">Testing</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/references/">References and foundations</a>
              
            </li>
            
          </ul>
        </details>
      </li>
      
      
      
      <li class="busdk-sidebar-section">
        <details class="busdk-sidebar-section-panel">
          <summary class="busdk-sidebar-section-toggle">
            <span class="busdk-sidebar-section-title">Compliance</span>
            <span class="busdk-sidebar-section-chevron" aria-hidden="true">▸</span>
          </summary>
          <ul class="busdk-sidebar-links">
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/compliance/fi-bookkeeping-and-tax-audit">Finnish bookkeeping and tax-audit</a>
              
            </li>
            
            
            
            
            

            
            

            <li class="busdk-sidebar-item">
              <a class="busdk-sidebar-link" href="/compliance/fi-company-reorganisation-evidence-pack">Finnish company reorganisation (yrityssaneeraus)</a>
              
            </li>
            
          </ul>
        </details>
      </li>
      
    </ul>
  </div>
</nav>

        

        <main class="busdk-main busdk-main--with-sidebar">
          <div class="busdk-main-inner markdown-body">
            
            <header class="busdk-page-header">
              <div class="busdk-content-inner">
                <h1>bus agent — diagnostics and development helper for the agent runner</h1>
              </div>
            </header>
            

            <section class="busdk-chapter busdk-chapter--level-2"><div class="busdk-chapter-inner">
<section class="busdk-chapter busdk-chapter--level-3 busdk-chapter--title"><div class="busdk-chapter-section-inner busdk-content-inner">
<h2 id="bus-agent--diagnostics-and-development-helper-for-the-busdk-agent-runner-layer">
<code class="language-plaintext highlighter-rouge">bus-agent</code> — diagnostics and development helper for the BusDK agent runner layer</h2>

</div></section><section class="busdk-chapter busdk-chapter--level-3"><div class="busdk-chapter-section-inner busdk-content-inner">
<h3 id="synopsis">Synopsis</h3>

<p><code class="language-plaintext highlighter-rouge">bus agent [-h] [-V] [-v] [-q] [-C &lt;dir&gt;] [-o &lt;file&gt;] [--color &lt;auto|always|never&gt;] [--no-color] &lt;command&gt; [options]</code></p>

<p>Commands: <strong><code class="language-plaintext highlighter-rouge">detect</code></strong>, <strong><code class="language-plaintext highlighter-rouge">set</code></strong>, <strong><code class="language-plaintext highlighter-rouge">render</code></strong>, <strong><code class="language-plaintext highlighter-rouge">run</code></strong>, <strong><code class="language-plaintext highlighter-rouge">format</code></strong>. These operations are intended for diagnostics and development (for example, checking which agent runtimes are available, testing prompt templates, or formatting raw agent output). They do not implement business workflows; higher-level modules such as <a href="./bus-dev">bus dev</a> use the same agent runner via the library and provide workflow-specific behavior (commit, work, spec, e2e).</p>

<p><code class="language-plaintext highlighter-rouge">bus agent detect [-1|--first]</code> — list available agent runtimes (first is the default); with <code class="language-plaintext highlighter-rouge">-1</code> or <code class="language-plaintext highlighter-rouge">--first</code>, output only the default runtime.<br>
<code class="language-plaintext highlighter-rouge">bus agent set runtime &lt;runtime&gt;</code> — set the default agent (e.g. <code class="language-plaintext highlighter-rouge">cursor</code>, <code class="language-plaintext highlighter-rouge">gemini</code>) via the bus-preferences Go library.<br>
<code class="language-plaintext highlighter-rouge">bus agent set model &lt;value&gt;</code> — set the default model (default when unset is <code class="language-plaintext highlighter-rouge">auto</code>).<br>
<code class="language-plaintext highlighter-rouge">bus agent set output-format &lt;ndjson|text&gt;</code> — set the default output format (default when unset: <code class="language-plaintext highlighter-rouge">text</code>).<br>
<code class="language-plaintext highlighter-rouge">bus agent set timeout &lt;duration&gt;</code> — set the default run timeout (e.g. <code class="language-plaintext highlighter-rouge">60m</code>).<br>
<code class="language-plaintext highlighter-rouge">bus agent render (--template &lt;file&gt; | --text &lt;text&gt;) --var KEY=VALUE [--var KEY=VALUE ...]</code> — render a prompt template with the given variables and fail if any <code class="language-plaintext highlighter-rouge">{{PLACEHOLDER}}</code> remains unresolved.<br>
<code class="language-plaintext highlighter-rouge">bus agent run [--agent &lt;runtime&gt;] [--timeout &lt;duration&gt;] [--workdir &lt;dir&gt;] (--prompt &lt;file&gt; | --text &lt;text&gt;)</code> — run the selected agent with the given prompt and stream output in a deterministic, script-safe way.<br>
<code class="language-plaintext highlighter-rouge">bus agent format [--runtime &lt;runtime&gt;]</code> — read raw agent output (e.g. NDJSON) from stdin and write formatted, human-readable text to stdout.</p>

</div></section><section class="busdk-chapter busdk-chapter--level-3"><div class="busdk-chapter-section-inner busdk-content-inner">
<h3 id="description">Description</h3>

<p>Command names follow <a href="../cli/command-naming">CLI command naming</a>. <code class="language-plaintext highlighter-rouge">bus agent</code> is a thin CLI on top of the BusDK agent runner library. The runner centralizes how external agent runtimes (Cursor CLI, Codex, Gemini CLI, Claude CLI) are invoked so that other modules can use a single, deterministic contract for templating, timeout handling, and output capture. This CLI exposes that contract for diagnostics and development: you can see which runtimes are enabled, render a template without running an agent, run an agent with a prompt under explicit timeout and workdir, and format raw agent output for readability. The tool does not execute Git, does not read or write workspace datasets, and does not define workflow semantics; those belong to modules such as <a href="./bus-dev">bus dev</a>, which depend on the agent runner library. All paths and the working directory are resolved relative to the current directory unless you set <code class="language-plaintext highlighter-rouge">-C</code> / <code class="language-plaintext highlighter-rouge">--chdir</code>. Command results go to stdout; diagnostics and progress go to stderr.</p>

</div></section><section class="busdk-chapter busdk-chapter--level-3"><div class="busdk-chapter-section-inner busdk-content-inner">
<h3 id="commands">Commands</h3>

<p><strong><code class="language-plaintext highlighter-rouge">detect</code></strong> — List the agent runtimes that are currently available. A runtime is available if its CLI executable is found in PATH and is executable and not disabled by user configuration. Output is one runtime identifier per line, in the same effective order used for automatic default selection (user-configured order if present, otherwise alphabetical by runtime ID), so the first line is always the runtime that would be selected for <code class="language-plaintext highlighter-rouge">bus agent run</code> when no <code class="language-plaintext highlighter-rouge">--agent</code> or preference override is set. Use this to verify that at least one runtime is available before running workflow commands in <a href="./bus-dev">bus dev</a>, or to see at a glance which agent would be used by default. With <strong><code class="language-plaintext highlighter-rouge">--first</code></strong> (or <strong><code class="language-plaintext highlighter-rouge">-1</code></strong>), output only that default runtime as a single line; if no runtime is available, the command exits with code 1. Scripts can use <code class="language-plaintext highlighter-rouge">bus agent detect --first</code> to obtain the default agent ID without parsing the full list.</p>

<p><strong><code class="language-plaintext highlighter-rouge">render</code></strong> — Render a prompt template with the supplied variables and print the result to stdout. You must supply either <code class="language-plaintext highlighter-rouge">--template &lt;file&gt;</code> (path to a UTF-8 file containing the template) or <code class="language-plaintext highlighter-rouge">--text &lt;text&gt;</code> (the template string). Variables are passed with <code class="language-plaintext highlighter-rouge">--var KEY=VALUE</code>; you can repeat <code class="language-plaintext highlighter-rouge">--var</code> for multiple keys. Templates use <code class="language-plaintext highlighter-rouge">{{VARIABLE}}</code> placeholders. Rendering is deterministic; every placeholder must be supplied. If a required variable is missing or any <code class="language-plaintext highlighter-rouge">{{...}}</code> token remains after substitution, the command fails with invalid usage (exit 2) and no external process is run. Use this to test template expansion or to produce a final prompt for inspection before passing it to <code class="language-plaintext highlighter-rouge">bus agent run</code>.</p>

<p><strong><code class="language-plaintext highlighter-rouge">run</code></strong> — Run the selected agent runtime with a prompt and stream its output. You must supply either <code class="language-plaintext highlighter-rouge">--prompt &lt;file&gt;</code> (path to a UTF-8 file whose contents are the prompt) or <code class="language-plaintext highlighter-rouge">--text &lt;text&gt;</code> (the prompt string). The effective working directory for the agent is the current directory unless you set <code class="language-plaintext highlighter-rouge">--workdir &lt;dir&gt;</code>. The run is subject to a timeout; use <code class="language-plaintext highlighter-rouge">--timeout &lt;duration&gt;</code> (e.g. <code class="language-plaintext highlighter-rouge">30s</code>, <code class="language-plaintext highlighter-rouge">5m</code>) or rely on the default. Which runtime is used is determined by the resolution order: <code class="language-plaintext highlighter-rouge">--agent</code>, then <code class="language-plaintext highlighter-rouge">BUS_AGENT</code>, then <code class="language-plaintext highlighter-rouge">bus-agent.runtime</code>, then first available in the effective order (see Agent runtimes and installation below). If a configured runtime is disabled, the tool prints a warning and uses the next source. At the start of the run, the tool prints to stderr which agent and model are in use. Output is streamed in a script-safe, non-interactive manner. If the selected runtime is not installed or not in PATH, the command fails with a clear diagnostic and the canonical installation URL for that runtime.</p>

<p><strong><code class="language-plaintext highlighter-rouge">set</code></strong> — Set a bus-agent persistent preference via the <a href="./bus-preferences">bus-preferences</a> Go library (no shell-out to <code class="language-plaintext highlighter-rouge">bus preferences</code>). The CLI provides a dedicated subcommand for each key: <strong><code class="language-plaintext highlighter-rouge">bus agent set runtime &lt;runtime&gt;</code></strong> (e.g. <code class="language-plaintext highlighter-rouge">cursor</code>, <code class="language-plaintext highlighter-rouge">gemini</code>), <strong><code class="language-plaintext highlighter-rouge">bus agent set model &lt;value&gt;</code></strong> (default when unset: <code class="language-plaintext highlighter-rouge">auto</code>), <strong><code class="language-plaintext highlighter-rouge">bus agent set output-format &lt;ndjson|text&gt;</code></strong> (default when unset: <code class="language-plaintext highlighter-rouge">text</code>), <strong><code class="language-plaintext highlighter-rouge">bus agent set timeout &lt;duration&gt;</code></strong> (e.g. <code class="language-plaintext highlighter-rouge">60m</code>). Each writes the corresponding key in the table under Preference settings below. Invalid value yields exit 2.</p>

<p><strong><code class="language-plaintext highlighter-rouge">format</code></strong> — Read raw agent output from stdin and write formatted text to stdout. This is useful when you have captured NDJSON or other backend-specific output and want human-readable text. Use <code class="language-plaintext highlighter-rouge">--runtime &lt;runtime&gt;</code> to select the formatter for the given backend (e.g. Cursor-style NDJSON). If the runtime is omitted, the tool may use a default or infer from the input where possible; see <code class="language-plaintext highlighter-rouge">bus agent format --help</code> for the current behavior.</p>

</div></section><section class="busdk-chapter busdk-chapter--level-3"><div class="busdk-chapter-section-inner busdk-content-inner">
<h3 id="global-flags">Global flags</h3>

<p>These flags apply to all subcommands. They match the <a href="../cli/global-flags">standard global flags</a> shared by BusDK modules. They can appear in any order before the subcommand. A lone <code class="language-plaintext highlighter-rouge">--</code> ends flag parsing; any following tokens are passed to the subcommand.</p>

<ul>
  <li>
<strong><code class="language-plaintext highlighter-rouge">-h</code></strong>, <strong><code class="language-plaintext highlighter-rouge">--help</code></strong> — Print help to stdout and exit 0. Other flags and arguments are ignored when help is requested.</li>
  <li>
<strong><code class="language-plaintext highlighter-rouge">-V</code></strong>, <strong><code class="language-plaintext highlighter-rouge">--version</code></strong> — Print the tool name and version to stdout and exit 0.</li>
  <li>
<strong><code class="language-plaintext highlighter-rouge">-v</code></strong>, <strong><code class="language-plaintext highlighter-rouge">--verbose</code></strong> — Send verbose progress and diagnostics to stderr. You can repeat the flag (e.g. <code class="language-plaintext highlighter-rouge">-vv</code>) to increase verbosity. Verbose output does not change what is written to stdout or to the file given by <code class="language-plaintext highlighter-rouge">--output</code>.</li>
  <li>
<strong><code class="language-plaintext highlighter-rouge">-q</code></strong>, <strong><code class="language-plaintext highlighter-rouge">--quiet</code></strong> — Suppress normal command result output. When quiet is set, only errors go to stderr. Exit codes are unchanged. You cannot combine <code class="language-plaintext highlighter-rouge">--quiet</code> with <code class="language-plaintext highlighter-rouge">--verbose</code>; doing so is invalid usage (exit 2).</li>
  <li>
<strong><code class="language-plaintext highlighter-rouge">-C &lt;dir&gt;</code></strong>, <strong><code class="language-plaintext highlighter-rouge">--chdir &lt;dir&gt;</code></strong> — Use <code class="language-plaintext highlighter-rouge">&lt;dir&gt;</code> as the effective working directory. All paths and the agent run directory are resolved from this directory. If it does not exist or is not accessible, the command exits with code 1.</li>
  <li>
<strong><code class="language-plaintext highlighter-rouge">-o &lt;file&gt;</code></strong>, <strong><code class="language-plaintext highlighter-rouge">--output &lt;file&gt;</code></strong> — Redirect normal command output to <code class="language-plaintext highlighter-rouge">&lt;file&gt;</code> instead of stdout. The file is created or truncated. Errors and diagnostics still go to stderr. If both <code class="language-plaintext highlighter-rouge">--output</code> and <code class="language-plaintext highlighter-rouge">--quiet</code> are used, quiet wins: no output is written to the file.</li>
  <li>
<strong><code class="language-plaintext highlighter-rouge">--color &lt;mode&gt;</code></strong> — Control colored output on stderr. <code class="language-plaintext highlighter-rouge">&lt;mode&gt;</code> must be <code class="language-plaintext highlighter-rouge">auto</code>, <code class="language-plaintext highlighter-rouge">always</code>, or <code class="language-plaintext highlighter-rouge">never</code>. Invalid value is usage error (exit 2).</li>
  <li>
<strong><code class="language-plaintext highlighter-rouge">--no-color</code></strong> — Same as <code class="language-plaintext highlighter-rouge">--color=never</code>.</li>
</ul>

<p>Command results (e.g. detect list, rendered prompt, formatted output) are written to stdout. Diagnostics, progress, and agent stream output are written to stderr unless otherwise documented for a subcommand.</p>

</div></section><section class="busdk-chapter busdk-chapter--level-3"><div class="busdk-chapter-section-inner busdk-content-inner">
<h3 id="project-instructions-agentsmd">Project instructions (AGENTS.md)</h3>

<p>The agent runner treats <strong>AGENTS.md</strong> at the repository root as the canonical, vendor-neutral source of project instructions for each run. Instruction discovery follows a root-to-cwd layering model; where a runtime supports directory-scoped instructions, the one closest to the current working directory takes precedence for that scope. The runner prefers per-invocation flags and environment variables to enable AGENTS.md; it uses repo-local file creation or merge only when necessary, and when it does, it never removes or rewrites your existing content — changes are additive only, with clearly marked Bus-owned blocks. The only exception is the legacy Cursor rule file at <code class="language-plaintext highlighter-rouge">.cursor/rules/{bus-NAME}.mdc</code>, which may be replaced or migrated as part of standardizing on AGENTS.md. If AGENTS.md is missing or too large for the runtime’s limits, the run still proceeds with the prompt you supplied and any instruction content that fits; the runner does not fail solely because AGENTS.md is absent or over limit. The full contract (per-runtime knobs, allowed repo-local files, and fallback behavior) is defined in the <a href="../sdd/bus-agent">module SDD</a>; the list below summarizes how each runtime is configured.</p>

<p><strong>Codex.</strong> The child process runs with its working directory set to the project (repo root or your chosen workdir). <code class="language-plaintext highlighter-rouge">CODEX_HOME</code> is set to a repo-local directory so no global state is used or mutated; all state and caches stay inside the repository. AGENTS.md is discovered natively by Codex when the workdir is the repo root; no repo-local file changes are required.</p>

<p><strong>Cursor.</strong> The agent is invoked from the repository root so Cursor’s native AGENTS.md loading applies. No global Cursor configuration is edited. When stricter enforcement is needed, Bus may add Bus-owned rule files under <code class="language-plaintext highlighter-rouge">.cursor/rules/</code> in an additive way only; existing user rules are not touched. The legacy file <code class="language-plaintext highlighter-rouge">.cursor/rules/{bus-NAME}.mdc</code> may be replaced or migrated (e.g. merged into AGENTS.md and removed) as part of standardization.</p>

<p><strong>Gemini CLI.</strong> Repo-local <code class="language-plaintext highlighter-rouge">.gemini/settings.json</code> can be added or merged to configure context discovery to prefer or include AGENTS.md; <code class="language-plaintext highlighter-rouge">.geminiignore</code> controls scan scope. Merges are additive with Bus-owned markers; your existing content is never removed or rewritten. Per-run environment or flag-based system-instruction injection is used only as a fallback when repo-local config is undesirable.</p>

<p><strong>Claude Code.</strong> The preferred approach is to inject AGENTS.md via command-line system prompt append on each run (with safeguards for command length and size). If that is not possible, a last-resort compatibility shim is to create or append a clearly marked Bus-owned block in <code class="language-plaintext highlighter-rouge">CLAUDE.md</code> that imports or references <code class="language-plaintext highlighter-rouge">@AGENTS.md</code>; existing CLAUDE.md content is never modified or removed.</p>

</div></section><section class="busdk-chapter busdk-chapter--level-3"><div class="busdk-chapter-section-inner busdk-content-inner">
<h3 id="agent-runtimes-and-installation">Agent runtimes and installation</h3>

<p>The agent runner supports four runtimes: <strong>Gemini CLI</strong>, <strong>Cursor CLI</strong>, <strong>Claude CLI</strong>, and <strong>Codex</strong>. Each is a separate external CLI; Bus Agent does not embed provider SDKs or call model APIs directly. When a selected runtime is not installed or not in PATH, the tool reports that on stderr and directs you to the canonical installation reference for that runtime. Those references are:</p>

<ul>
  <li>
<strong>Gemini CLI</strong> — https://geminicli.com/</li>
  <li>
<strong>Cursor CLI</strong> — https://cursor.com/docs/cli/overview</li>
  <li>
<strong>Claude CLI</strong> — https://github.com/anthropics/claude-code?tab=readme-ov-file#get-started</li>
  <li>
<strong>Codex</strong> — https://developers.openai.com/codex/cli/</li>
</ul>

<p>Runtime selection for <code class="language-plaintext highlighter-rouge">bus agent run</code> uses this order (same logic as <a href="./bus-dev">bus dev</a> when it delegates to the bus-agent library, but without bus-dev-only sources): (1) <strong><code class="language-plaintext highlighter-rouge">--agent</code></strong> for that invocation, (2) <strong><code class="language-plaintext highlighter-rouge">BUS_AGENT</code></strong> (session default), (3) <strong><code class="language-plaintext highlighter-rouge">bus-agent.runtime</code></strong> from <a href="./bus-preferences">bus-preferences</a>, (4) <strong>first available</strong> runtime in the effective order. When multiple agents are available and no earlier source is set, the order is alphabetical by runtime ID unless you configure a different order; you can also disable or enable specific agents (see Agent order and enable/disable below). At any step, if the configured runtime is <strong>disabled</strong> by user configuration, the tool prints a warning to stderr and continues with the next source instead of selecting it. Invalid runtime names produce a usage error (exit 2).</p>

</div></section><section class="busdk-chapter busdk-chapter--level-3"><div class="busdk-chapter-section-inner busdk-content-inner">
<h3 id="preference-settings-bus-preferences">Preference settings (bus-preferences)</h3>

<p>Default settings for the agent runner are read and written through the <a href="./bus-preferences">bus-preferences</a> Go library (user-level preferences file). Session default can also be set with <strong><code class="language-plaintext highlighter-rouge">BUS_AGENT</code></strong> (e.g. <code class="language-plaintext highlighter-rouge">export BUS_AGENT=gemini</code>); it is consulted after <code class="language-plaintext highlighter-rouge">--agent</code> and before persistent preferences. The CLI uses these values when resolving the runtime and building run config for <code class="language-plaintext highlighter-rouge">run</code> when you do not pass <code class="language-plaintext highlighter-rouge">--agent</code> or a session env.</p>

<table>
  <thead>
    <tr>
      <th>Key</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">bus-agent.runtime</code></td>
      <td>Default agent runtime when no <code class="language-plaintext highlighter-rouge">--agent</code> or <code class="language-plaintext highlighter-rouge">BUS_AGENT</code> is set (e.g. <code class="language-plaintext highlighter-rouge">cursor</code>, <code class="language-plaintext highlighter-rouge">gemini</code>).</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">bus-agent.model</code></td>
      <td>Default model (e.g. for Cursor). When unset, the default is <code class="language-plaintext highlighter-rouge">auto</code>. Overridable by <code class="language-plaintext highlighter-rouge">CURSOR_AGENT_MODEL</code>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">bus-agent.output_format</code></td>
      <td>Default output format. Valid values: <strong><code class="language-plaintext highlighter-rouge">ndjson</code></strong> (raw structured output), <strong><code class="language-plaintext highlighter-rouge">text</code></strong> (human-readable; NDJSON formatted to text). When unset, the default is <code class="language-plaintext highlighter-rouge">text</code>. Overridable by <code class="language-plaintext highlighter-rouge">CURSOR_AGENT_OUTPUT_FORMAT</code>.</td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">bus-agent.timeout</code></td>
      <td>Default run timeout as a duration string (e.g. <code class="language-plaintext highlighter-rouge">60m</code>). Overridable by <code class="language-plaintext highlighter-rouge">CURSOR_AGENT_TIMEOUT</code> or <code class="language-plaintext highlighter-rouge">--timeout</code>.</td>
    </tr>
  </tbody>
</table>

<p>Set preferences with <strong><code class="language-plaintext highlighter-rouge">bus agent set runtime &lt;runtime&gt;</code></strong>, <strong><code class="language-plaintext highlighter-rouge">bus agent set model &lt;value&gt;</code></strong>, <strong><code class="language-plaintext highlighter-rouge">bus agent set output-format &lt;value&gt;</code></strong>, or <strong><code class="language-plaintext highlighter-rouge">bus agent set timeout &lt;duration&gt;</code></strong> (e.g. <code class="language-plaintext highlighter-rouge">bus agent set runtime gemini</code>), or with the <a href="./bus-preferences">bus preferences</a> CLI (e.g. <code class="language-plaintext highlighter-rouge">bus preferences set bus-agent.runtime gemini</code>). Inspect with <code class="language-plaintext highlighter-rouge">bus preferences get bus-agent.runtime</code>. The bus-agent CLI uses the bus-preferences Go library directly; it does not shell out to <code class="language-plaintext highlighter-rouge">bus preferences</code>. The bus-agent library exposes helpers such as <code class="language-plaintext highlighter-rouge">GetDefaultRuntime</code>, <code class="language-plaintext highlighter-rouge">SetDefaultRuntime</code>, <code class="language-plaintext highlighter-rouge">GetDefaultRunConfig</code>, and <code class="language-plaintext highlighter-rouge">SetDefault*</code> so that callers and the CLI can read and write these values without touching the preferences file path.</p>

</div></section><section class="busdk-chapter busdk-chapter--level-3"><div class="busdk-chapter-section-inner busdk-content-inner">
<h3 id="agent-order-and-enabledisable">Agent order and enable/disable</h3>

<p>When multiple agent runtimes are available (CLI found in PATH) and no persistent or session preference is set, the automatic default is chosen from that set in a deterministic order. By default the order is alphabetical by runtime ID (e.g. claude, codex, cursor, gemini); the first available runtime in that order is used.</p>

<p>You can change which agent is used first by configuring the order: supply an ordered list of runtime IDs so that the first available runtime in that list becomes the automatic default. You can also disable specific runtimes (exclude them from the available set) or enable only a subset (so that only those runtimes are considered available). Configuration is via environment variables or, when supported, <a href="./bus-preferences">bus-preferences</a>; the exact variable names and format are documented in the <a href="../sdd/bus-agent">module SDD</a> (FR-AGT-005a). For example, you might set an order so that <code class="language-plaintext highlighter-rouge">gemini</code> is tried first, then <code class="language-plaintext highlighter-rouge">cursor</code>, and disable <code class="language-plaintext highlighter-rouge">codex</code> and <code class="language-plaintext highlighter-rouge">claude</code> for the session.</p>

</div></section><section class="busdk-chapter busdk-chapter--level-3"><div class="busdk-chapter-section-inner busdk-content-inner">
<h3 id="files">Files</h3>

<p><code class="language-plaintext highlighter-rouge">bus agent</code> does not read or write workspace datasets, schemas, or <code class="language-plaintext highlighter-rouge">datapackage.json</code>. It may read prompt template files or prompt files when you pass <code class="language-plaintext highlighter-rouge">--template</code> or <code class="language-plaintext highlighter-rouge">--prompt</code>. The default agent and run-config defaults (model, output format, timeout) are read from user-level preferences via the <a href="./bus-preferences">bus-preferences</a> Go library; the user sets them with the <a href="./bus-preferences">bus preferences</a> CLI (e.g. <code class="language-plaintext highlighter-rouge">bus preferences set bus-agent.runtime gemini</code>). The module does not own the preferences file — bus-preferences owns it — so configuration for persistent defaults is through <a href="./bus-preferences">bus preferences</a>; flags and environment still override for the session or single invocation. When the runner enables AGENTS.md for a runtime that requires repo-local config (e.g. Gemini or Claude), it may create or merge files only under the additive, Bus-owned rules described in <a href="#project-instructions-agentsmd">Project instructions (AGENTS.md)</a> and in the <a href="../sdd/bus-agent">module SDD</a>; it never edits user configuration outside the project working directory.</p>

</div></section><section class="busdk-chapter busdk-chapter--level-3"><div class="busdk-chapter-section-inner busdk-content-inner">
<h3 id="exit-status-and-errors">Exit status and errors</h3>

<ul>
  <li>
<strong>0</strong> — Success.</li>
  <li>
<strong>1</strong> — Execution failure: agent run failed, timeout exceeded, selected runtime not found or not executable, could not execute the agent CLI, or no runtime available when using <code class="language-plaintext highlighter-rouge">detect --first</code>.</li>
  <li>
<strong>2</strong> — Invalid usage: unknown command or flag, missing required argument (e.g. <code class="language-plaintext highlighter-rouge">--template</code> or <code class="language-plaintext highlighter-rouge">--text</code> for render), unresolved template placeholder, invalid runtime name, invalid <code class="language-plaintext highlighter-rouge">set</code> value, or invalid <code class="language-plaintext highlighter-rouge">--timeout</code> or path.</li>
</ul>

<p>Template rendering failures (missing variable, unresolved <code class="language-plaintext highlighter-rouge">{{...}}</code>) occur before any external execution and always result in exit 2. When the selected runtime is missing, the tool exits with code 1 and includes the canonical installation URL for that runtime in the diagnostic.</p>

</div></section><section class="busdk-chapter busdk-chapter--level-3"><div class="busdk-chapter-section-inner busdk-content-inner">
<h3 id="development-state">Development state</h3>

<p><strong>Value:</strong> Detect enabled agent runtimes and run AI-assisted tasks (render prompts, execute agent CLI) so developers and bus-dev can use a configured default runtime without hard-coding it.</p>

<p><strong>Use cases:</strong> <a href="../implementation/development-status#developer-module-workflow">Developer module workflow</a>, <a href="../implementation/development-status#workbook-and-validated-tabular-editing">Workbook and validated tabular editing</a>.</p>

<p><strong>Completeness:</strong> 40% (Meaningful task, partial verification) — detect and render verified by e2e; help, version, and global flags test-backed; run implemented but e2e does not prove full run flow.</p>

<p><strong>Use case readiness:</strong> Developer module workflow: 40% — detect and render verified; order/config and run e2e would complete agent support for <a href="./bus-dev">bus-dev</a>. Workbook and validated tabular editing: 40% — when enabled in <a href="./bus-sheets">bus-sheets</a>, optional chat so user can ask agent to run Bus CLI tools; not yet test-backed in sheets.</p>

<p><strong>Current:</strong> E2e script <code class="language-plaintext highlighter-rouge">tests/e2e_bus_agent.sh</code> proves help, version, subcommand help (detect), color and format validation, quiet+verbose exit 2, and detect listing enabled runtimes. Unit tests in <code class="language-plaintext highlighter-rouge">internal/runner/run_test.go</code>, <code class="language-plaintext highlighter-rouge">internal/template/render_test.go</code>, and <code class="language-plaintext highlighter-rouge">agent/prefs_test.go</code> cover runner resolve/detect, template render, format, and prefs. No e2e proves <code class="language-plaintext highlighter-rouge">run</code> end-to-end with a real agent.</p>

<p><strong>Planned next:</strong> Order and enable/disable configuration; AGENTS.md discovery; per-runtime adapters; deterministic fallback when AGENTS.md missing or over-size.</p>

<p><strong>Blockers:</strong> None known.</p>

<p><strong>Depends on:</strong> <a href="./bus-config">bus-config</a> (for default agent when set/get agent exist); <a href="./bus-preferences">bus-preferences</a> (runtime and run-config defaults).</p>

<p><strong>Used by:</strong> <a href="./bus-sheets">bus-sheets</a> (optional agent chat); <a href="./bus-dev">bus-dev</a> (work, commit, etc.).</p>

<p>See <a href="../implementation/development-status">Development status</a>.</p>

<!-- busdk-docs-nav start -->
</div></section>
</div></section><div class="busdk-prev-next-bar"><div class="busdk-content-inner"><p class="busdk-prev-next">
  <span class="busdk-prev-next-item busdk-prev">← <a href="./bus-dev">bus-dev</a></span>
  <span class="busdk-prev-next-item busdk-index"><a href="./index">Module CLI reference</a></span>
  <span class="busdk-prev-next-item busdk-next"><a href="./bus-bfl">bus-bfl</a> →</span>
</p></div></div>
<!-- busdk-docs-nav end -->

<div class="busdk-meta-block busdk-content-inner"><div class="busdk-meta-section">
<h3 id="sources">Sources</h3>

<ul>
  <li><a href="../sdd/bus-agent">Module SDD: bus-agent</a></li>
  <li><a href="./bus-preferences">bus-preferences CLI reference</a></li>
  <li><a href="./bus-dev">bus-dev CLI reference</a></li>
  <li><a href="../cli/global-flags">CLI: Global flags</a></li>
  <li><a href="https://geminicli.com/">Gemini CLI — install</a></li>
  <li><a href="https://cursor.com/docs/cli/overview">Cursor CLI — overview and install</a></li>
  <li><a href="https://github.com/anthropics/claude-code?tab=readme-ov-file#get-started">Claude Code — get started / install</a></li>
  <li><a href="https://developers.openai.com/codex/cli/">Codex CLI — install</a></li>
</ul>
</div></div>
          </div>
        </main>
      </div>

      
      <footer class="busdk-footer" role="contentinfo">
        <div class="busdk-footer-inner">
          <span class="busdk-footer-edit">This site is open source. <a href="https://github.com/busdk/docs/edit/gh-pages/modules/bus-agent.md">Improve this page</a>.</span>
          <span class="busdk-footer-copyright">&copy; 2026 <a href="https://hg.fi">Heusala Group Ltd</a></span>
        </div>
      </footer>
      
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" crossorigin="anonymous"></script>
    <script>anchors.add();</script>
  </body>
</html>
