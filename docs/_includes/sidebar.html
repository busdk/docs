<nav class="busdk-sidebar" aria-label="Documentation">
  <div class="busdk-sidebar-inner">
    <a class="busdk-sidebar-home" href="{{ '/' | relative_url }}">{{ site.title }}</a>
    <ul class="busdk-sidebar-nav">
      {% for section in site.data.nav %}
      <li class="busdk-sidebar-section">
        <span class="busdk-sidebar-section-title">{{ section.title }}</span>
        <ul class="busdk-sidebar-links">
          {% for link in section.links %}
          {% assign link_url = link.url | relative_url %}
          {% assign current = false %}
          {% if page.url == link_url %}
            {% assign current = true %}
          {% endif %}
          {% if current == false and link_url != '/' and link_url != '' %}
            {% assign link_len = link_url | size %}
            {% assign page_prefix = page.url | slice: 0, link_len %}
            {% if page_prefix == link_url %}
              {% assign current = true %}
            {% endif %}
          {% endif %}
          <li>
            <a class="busdk-sidebar-link{% if current %} busdk-sidebar-link--current{% endif %}" href="{{ link_url }}">{{ link.label }}</a>
          </li>
          {% endfor %}
        </ul>
      </li>
      {% endfor %}
    </ul>
  </div>
</nav>
